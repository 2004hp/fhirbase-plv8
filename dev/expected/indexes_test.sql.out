SET escape_string_warning=off;
SET
SELECT assert_eq(
(SELECT index_primitive_as_token('{"a":[{"b":1},{"b":2}]}','{a,b}')),
'{1,2}'::varchar[],
'index_primitive_as_token');
          assert_eq          
-----------------------------
 OK index_primitive_as_token
(1 row)

SELECT assert_eq(
(SELECT index_primitive_as_token( E'{"resourceType":"Observation","text":{"status":"generated","div":"<div>\\n      <p>\\n        <b>Generated Narrative</b>\\n      </p>\\n      <p>\\n        <b>name</b>: \\n        <span title=\\"Codes: {http://loinc.org 2339-0}\\">Glucose [Mass/volume] in Blood</span>\\n      </p>\\n      <p>\\n        <b>value[x]</b>: 6.3 mmol/l\\n      </p>\\n      <p>\\n        <b>interpretation</b>: \\n        <span title=\\"Codes: {http://hl7.org/fhir/v2/0078 A}\\">abnormal</span>\\n      </p>\\n      <p>\\n        <b>applies[x]</b>: 2-Apr 2013 9:30 --&gt; 5-Apr 2013 9:30\\n      </p>\\n      <p>\\n        <b>issued</b>: 3-Apr 2013 15:30\\n      </p>\\n      <p>\\n        <b>status</b>: final_\\n      </p>\\n      <p>\\n        <b>reliability</b>: ok\\n      </p>\\n      <p>\\n        <b>bodySite</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 308046002}\\">Superficial forearm vein</span>\\n      </p>\\n      <p>\\n        <b>method</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 120220003}\\">Injection to forearm</span>\\n      </p>\\n      <p>\\n        <b>identifier</b>: 6323 (official)\\n      </p>\\n      <p>\\n        <b>subject</b>: P. van de Heuvel\\n      </p>\\n      <p>\\n        <b>performer</b>: A. Langeveld\\n      </p>\\n      <h3>ReferenceRanges</h3>\\n      <table class=\\"grid\\">\\n        <tr>\\n          <td>\\n            <b>Low</b>\\n          </td>\\n          <td>\\n            <b>High</b>\\n          </td>\\n          <td>\\n            <b>Meaning</b>\\n          </td>\\n          <td>\\n            <b>Age</b>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>3.1 mmol/l</td>\\n          <td>6.2 mmol/l</td>\\n          <td> </td>\\n          <td> </td>\\n        </tr>\\n      </table>\\n    </div>"},"name":{"coding":[{"system":"custom","code":"GLU","display":"Glucose [Mass/volume] in Blood"},{"system":"http://loinc.org","code":"2339-0","display":"Glucose [Mass/volume] in Blood"}]},"valueQuantity":{"value":6.3,"units":"mmol/l","system":"http://unitsofmeasure.org","code":"mmol/l"},"interpretation":{"coding":[{"system":"http://hl7.org/fhir/v2/0078","code":"A","display":"abnormal"}]},"appliesPeriod":{"start":"2013-04-02T09:30:10+01:00","end":"2013-04-05T09:30:10+01:00"},"issued":"2013-04-03T15:30:10+01:00","status":"final","reliability":"ok","bodySite":{"coding":[{"system":"http://snomed.info/sct","code":"308046002","display":"Superficial forearm vein"}]},"method":{"coding":[{"system":"http://snomed.info/sct","code":"120220003","display":"Injection to forearm"}]},"identifier":{"use":"official","system":"http://www.bmc.nl/zorgportal/identifiers/observations","value":"6323"},"subject":{"reference":"Patient/f001","display":"P. van de Heuvel"},"performer":[{"reference":"Practitioner/f005","display":"A. Langeveld"}],"referenceRange":[{"low":{"value":3.1,"units":"mmol/l","system":"http://unitsofmeasure.org","code":"mmol/l"},"high":{"value":6.2,"units":"mmol/l","system":"http://unitsofmeasure.org","code":"mmol/l"}}]}','{status}')),
'{final}'::varchar[],
'index_primitive_as_token');
          assert_eq          
-----------------------------
 OK index_primitive_as_token
(1 row)

SELECT assert_eq(
(SELECT index_codeableconcept_as_token( E'{"resourceType":"Observation","text":{"status":"generated","div":"<div>\\n      <p>\\n        <b>Generated Narrative</b>\\n      </p>\\n      <p>\\n        <b>name</b>: \\n        <span title=\\"Codes: {http://loinc.org 2339-0}\\">Glucose [Mass/volume] in Blood</span>\\n      </p>\\n      <p>\\n        <b>value[x]</b>: 6.3 mmol/l\\n      </p>\\n      <p>\\n        <b>interpretation</b>: \\n        <span title=\\"Codes: {http://hl7.org/fhir/v2/0078 A}\\">abnormal</span>\\n      </p>\\n      <p>\\n        <b>applies[x]</b>: 2-Apr 2013 9:30 --&gt; 5-Apr 2013 9:30\\n      </p>\\n      <p>\\n        <b>issued</b>: 3-Apr 2013 15:30\\n      </p>\\n      <p>\\n        <b>status</b>: final_\\n      </p>\\n      <p>\\n        <b>reliability</b>: ok\\n      </p>\\n      <p>\\n        <b>bodySite</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 308046002}\\">Superficial forearm vein</span>\\n      </p>\\n      <p>\\n        <b>method</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 120220003}\\">Injection to forearm</span>\\n      </p>\\n      <p>\\n        <b>identifier</b>: 6323 (official)\\n      </p>\\n      <p>\\n        <b>subject</b>: P. van de Heuvel\\n      </p>\\n      <p>\\n        <b>performer</b>: A. Langeveld\\n      </p>\\n      <h3>ReferenceRanges</h3>\\n      <table class=\\"grid\\">\\n        <tr>\\n          <td>\\n            <b>Low</b>\\n          </td>\\n          <td>\\n            <b>High</b>\\n          </td>\\n          <td>\\n            <b>Meaning</b>\\n          </td>\\n          <td>\\n            <b>Age</b>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>3.1 mmol/l</td>\\n          <td>6.2 mmol/l</td>\\n          <td> </td>\\n          <td> </td>\\n        </tr>\\n      </table>\\n    </div>"},"name":{"coding":[{"system":"custom","code":"GLU","display":"Glucose [Mass/volume] in Blood"},{"system":"http://loinc.org","code":"2339-0","display":"Glucose [Mass/volume] in Blood"}]},"valueQuantity":{"value":6.3,"units":"mmol/l","system":"http://unitsofmeasure.org","code":"mmol/l"},"interpretation":{"coding":[{"system":"http://hl7.org/fhir/v2/0078","code":"A","display":"abnormal"}]},"appliesPeriod":{"start":"2013-04-02T09:30:10+01:00","end":"2013-04-05T09:30:10+01:00"},"issued":"2013-04-03T15:30:10+01:00","status":"final","reliability":"ok","bodySite":{"coding":[{"system":"http://snomed.info/sct","code":"308046002","display":"Superficial forearm vein"}]},"method":{"coding":[{"system":"http://snomed.info/sct","code":"120220003","display":"Injection to forearm"}]},"identifier":{"use":"official","system":"http://www.bmc.nl/zorgportal/identifiers/observations","value":"6323"},"subject":{"reference":"Patient/f001","display":"P. van de Heuvel"},"performer":[{"reference":"Practitioner/f005","display":"A. Langeveld"}],"referenceRange":[{"low":{"value":3.1,"units":"mmol/l","system":"http://unitsofmeasure.org","code":"mmol/l"},"high":{"value":6.2,"units":"mmol/l","system":"http://unitsofmeasure.org","code":"mmol/l"}}]}','{name}')),
 '{custom|GLU,http://loinc.org|2339-0,2339-0,GLU}'::varchar[],
'index_codeable_concept_as_token');
             assert_eq              
------------------------------------
 OK index_codeable_concept_as_token
(1 row)

SELECT assert_eq(
(SELECT index_coding_as_token( E'{"resourceType":"Observation","text":{"status":"generated","div":"<div>\\n      <p>\\n        <b>Generated Narrative</b>\\n      </p>\\n      <p>\\n        <b>name</b>: \\n        <span title=\\"Codes: {http://loinc.org 2339-0}\\">Glucose [Mass/volume] in Blood</span>\\n      </p>\\n      <p>\\n        <b>value[x]</b>: 6.3 mmol/l\\n      </p>\\n      <p>\\n        <b>interpretation</b>: \\n        <span title=\\"Codes: {http://hl7.org/fhir/v2/0078 A}\\">abnormal</span>\\n      </p>\\n      <p>\\n        <b>applies[x]</b>: 2-Apr 2013 9:30 --&gt; 5-Apr 2013 9:30\\n      </p>\\n      <p>\\n        <b>issued</b>: 3-Apr 2013 15:30\\n      </p>\\n      <p>\\n        <b>status</b>: final_\\n      </p>\\n      <p>\\n        <b>reliability</b>: ok\\n      </p>\\n      <p>\\n        <b>bodySite</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 308046002}\\">Superficial forearm vein</span>\\n      </p>\\n      <p>\\n        <b>method</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 120220003}\\">Injection to forearm</span>\\n      </p>\\n      <p>\\n        <b>identifier</b>: 6323 (official)\\n      </p>\\n      <p>\\n        <b>subject</b>: P. van de Heuvel\\n      </p>\\n      <p>\\n        <b>performer</b>: A. Langeveld\\n      </p>\\n      <h3>ReferenceRanges</h3>\\n      <table class=\\"grid\\">\\n        <tr>\\n          <td>\\n            <b>Low</b>\\n          </td>\\n          <td>\\n            <b>High</b>\\n          </td>\\n          <td>\\n            <b>Meaning</b>\\n          </td>\\n          <td>\\n            <b>Age</b>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>3.1 mmol/l</td>\\n          <td>6.2 mmol/l</td>\\n          <td> </td>\\n          <td> </td>\\n        </tr>\\n      </table>\\n    </div>"},"name":{"coding":[{"system":"custom","code":"GLU","display":"Glucose [Mass/volume] in Blood"},{"system":"http://loinc.org","code":"2339-0","display":"Glucose [Mass/volume] in Blood"}]},"valueQuantity":{"value":6.3,"units":"mmol/l","system":"http://unitsofmeasure.org","code":"mmol/l"},"interpretation":{"coding":[{"system":"http://hl7.org/fhir/v2/0078","code":"A","display":"abnormal"}]},"appliesPeriod":{"start":"2013-04-02T09:30:10+01:00","end":"2013-04-05T09:30:10+01:00"},"issued":"2013-04-03T15:30:10+01:00","status":"final","reliability":"ok","bodySite":{"coding":[{"system":"http://snomed.info/sct","code":"308046002","display":"Superficial forearm vein"}]},"method":{"coding":[{"system":"http://snomed.info/sct","code":"120220003","display":"Injection to forearm"}]},"identifier":{"use":"official","system":"http://www.bmc.nl/zorgportal/identifiers/observations","value":"6323"},"subject":{"reference":"Patient/f001","display":"P. van de Heuvel"},"performer":[{"reference":"Practitioner/f005","display":"A. Langeveld"}],"referenceRange":[{"low":{"value":3.1,"units":"mmol/l","system":"http://unitsofmeasure.org","code":"mmol/l"},"high":{"value":6.2,"units":"mmol/l","system":"http://unitsofmeasure.org","code":"mmol/l"}}]}','{name,coding}')),
 '{custom|GLU,http://loinc.org|2339-0,2339-0,GLU}'::varchar[],
 'index_coding_as_token');
        assert_eq         
--------------------------
 OK index_coding_as_token
(1 row)

SELECT assert_eq(
(SELECT index_identifier_as_token( E'{
  "resourceType": "Patient",
  "text": {
    "status": "generated",
    "div": "<div>\\n      <p>\\n        <b>Generated Narrative</b>\\n      </p>\\n      <p>\\n        <b>identifier</b>: BSN = 123456789 (official), BSN = 123456789 (official)\\n      </p>\\n      <p>\\n        <b>name</b>: Roel(official)\\n      </p>\\n      <p>\\n        <b>telecom</b>: ph: +31612345678(mobile), ph: +31201234567(home)\\n      </p>\\n      <p>\\n        <b>gender</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 248153007}, {http://hl7.org/fhir/v3/AdministrativeGender M}\\">Male</span>\\n      </p>\\n      <p>\\n        <b>birthDate</b>: 13-Mar 1960\\n      </p>\\n      <p>\\n        <b>deceased[x]</b>: false\\n      </p>\\n      <p>\\n        <b>address</b>: Bos en Lommerplein 280 Amsterdam 1055RW NLD (home)\\n      </p>\\n      <p>\\n        <b>maritalStatus</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 36629006}, {http://hl7.org/fhir/v3/MaritalStatus M}\\">Legally married</span>\\n      </p>\\n      <p>\\n        <b>multipleBirth[x]</b>: false\\n      </p>\\n      <p>\\n        <b>photo</b>: \\n      </p>\\n      <h3>Contacts</h3>\\n      <table class=\\"grid\\">\\n        <tr>\\n          <td>\\n            <b>Relationship</b>\\n          </td>\\n          <td>\\n            <b>Name</b>\\n          </td>\\n          <td>\\n            <b>Telecom</b>\\n          </td>\\n          <td>\\n            <b>Address</b>\\n          </td>\\n          <td>\\n            <b>Gender</b>\\n          </td>\\n          <td>\\n            <b>Organization</b>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <span title=\\"Codes: {http://snomed.info/sct 127850001}, {http://hl7.org/fhir/patient-contact-relationship partner}\\">Wife</span>\\n          </td>\\n          <td>Ariadne Bor-Jansma</td>\\n          <td>ph: +31201234567(home)</td>\\n          <td> </td>\\n          <td> </td>\\n          <td> </td>\\n        </tr>\\n      </table>\\n      <p>\\n        <b>communication</b>: \\n        <span title=\\"Codes: {urn:std:iso:639-1 nl-NL}\\">Dutch</span>\\n      </p>\\n      <p>\\n        <b>managingOrganization</b>: AUMC\\n      </p>\\n      <p>\\n        <b>active</b>: true\\n      </p>\\n    </div>"
  },
  "identifier": [
    {
      "use": "official",
      "label": "MRN",
      "system": "MRN",
      "value": "7777777"
    },
    {
      "use": "official",
      "label": "BSN",
      "system": "urn:oid:2.16.840.1.113883.2.4.6.3",
      "value": "123456789"
    }
  ],
  "name": [
    {
      "use": "official",
      "text": "Roel",
      "family": [
        "Bor"
      ],
      "given": [
        "Roelof Olaf"
      ],
      "prefix": [
        "Drs."
      ],
      "suffix": [
        "PDEng."
      ]
    }
  ],
  "telecom": [
    {
      "system": "phone",
      "value": "+31612345678",
      "use": "mobile"
    },
    {
      "system": "phone",
      "value": "+31201234567",
      "use": "home"
    }
  ],
  "gender": "male",
  "birthDate": "1960-03-13",
  "deceasedBoolean": false,
  "address": [
    {
      "use": "home",
      "line": [
        "Bos en Lommerplein 280"
      ],
      "city": "Amsterdam",
      "zip": "1055RW",
      "country": "NLD"
    }
  ],
  "maritalStatus": {
    "coding": [
      {
        "system": "http://snomed.info/sct",
        "code": "36629006",
        "display": "Legally married"
      },
      {
        "system": "http://hl7.org/fhir/v3/MaritalStatus",
        "code": "M"
      }
    ]
  },
  "multipleBirthBoolean": false,
  "photo": [
    {
      "contentType": "image/jpeg",
      "url": "binary/@f006"
    }
  ],
  "contact": [
    {
      "relationship": [
        {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "127850001",
              "display": "Wife"
            },
            {
              "system": "http://hl7.org/fhir/patient-contact-relationship",
              "code": "partner"
            }
          ]
        }
      ],
      "name": {
        "use": "usual",
        "text": "Ariadne Bor-Jansma"
      },
      "telecom": [
        {
          "system": "phone",
          "value": "+31201234567",
          "use": "home"
        }
      ]
    }
  ],
  "communication": [
    {
      "coding": [
        {
          "system": "urn:std:iso:639-1",
          "code": "nl-NL",
          "display": "Dutch"
        }
      ]
    }
  ],
  "managingOrganization": {
    "reference": "Organization/%s",
    "display": "AUMC"
  },
  "active": true
}','{identifier}')),
 '{urn:oid:2.16.840.1.113883.2.4.6.3|123456789,MRN|7777777,7777777,123456789}'::varchar[],
'index_identifier_as_token');
          assert_eq           
------------------------------
 OK index_identifier_as_token
(1 row)

SELECT assert_eq(
(SELECT index_as_string( E'{
  "resourceType": "Patient",
  "text": {
    "status": "generated",
    "div": "<div>\\n      <p>\\n        <b>Generated Narrative</b>\\n      </p>\\n      <p>\\n        <b>identifier</b>: BSN = 123456789 (official), BSN = 123456789 (official)\\n      </p>\\n      <p>\\n        <b>name</b>: Roel(official)\\n      </p>\\n      <p>\\n        <b>telecom</b>: ph: +31612345678(mobile), ph: +31201234567(home)\\n      </p>\\n      <p>\\n        <b>gender</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 248153007}, {http://hl7.org/fhir/v3/AdministrativeGender M}\\">Male</span>\\n      </p>\\n      <p>\\n        <b>birthDate</b>: 13-Mar 1960\\n      </p>\\n      <p>\\n        <b>deceased[x]</b>: false\\n      </p>\\n      <p>\\n        <b>address</b>: Bos en Lommerplein 280 Amsterdam 1055RW NLD (home)\\n      </p>\\n      <p>\\n        <b>maritalStatus</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 36629006}, {http://hl7.org/fhir/v3/MaritalStatus M}\\">Legally married</span>\\n      </p>\\n      <p>\\n        <b>multipleBirth[x]</b>: false\\n      </p>\\n      <p>\\n        <b>photo</b>: \\n      </p>\\n      <h3>Contacts</h3>\\n      <table class=\\"grid\\">\\n        <tr>\\n          <td>\\n            <b>Relationship</b>\\n          </td>\\n          <td>\\n            <b>Name</b>\\n          </td>\\n          <td>\\n            <b>Telecom</b>\\n          </td>\\n          <td>\\n            <b>Address</b>\\n          </td>\\n          <td>\\n            <b>Gender</b>\\n          </td>\\n          <td>\\n            <b>Organization</b>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <span title=\\"Codes: {http://snomed.info/sct 127850001}, {http://hl7.org/fhir/patient-contact-relationship partner}\\">Wife</span>\\n          </td>\\n          <td>Ariadne Bor-Jansma</td>\\n          <td>ph: +31201234567(home)</td>\\n          <td> </td>\\n          <td> </td>\\n          <td> </td>\\n        </tr>\\n      </table>\\n      <p>\\n        <b>communication</b>: \\n        <span title=\\"Codes: {urn:std:iso:639-1 nl-NL}\\">Dutch</span>\\n      </p>\\n      <p>\\n        <b>managingOrganization</b>: AUMC\\n      </p>\\n      <p>\\n        <b>active</b>: true\\n      </p>\\n    </div>"
  },
  "identifier": [
    {
      "use": "official",
      "label": "MRN",
      "system": "MRN",
      "value": "7777777"
    },
    {
      "use": "official",
      "label": "BSN",
      "system": "urn:oid:2.16.840.1.113883.2.4.6.3",
      "value": "123456789"
    }
  ],
  "name": [
    {
      "use": "official",
      "text": "Roel",
      "family": [
        "Bor"
      ],
      "given": [
        "Roelof Olaf"
      ],
      "prefix": [
        "Drs."
      ],
      "suffix": [
        "PDEng."
      ]
    }
  ],
  "telecom": [
    {
      "system": "phone",
      "value": "+31612345678",
      "use": "mobile"
    },
    {
      "system": "phone",
      "value": "+31201234567",
      "use": "home"
    }
  ],
  "gender": "male",
  "birthDate": "1960-03-13",
  "deceasedBoolean": false,
  "address": [
    {
      "use": "home",
      "line": [
        "Bos en Lommerplein 280"
      ],
      "city": "Amsterdam",
      "zip": "1055RW",
      "country": "NLD"
    }
  ],
  "maritalStatus": {
    "coding": [
      {
        "system": "http://snomed.info/sct",
        "code": "36629006",
        "display": "Legally married"
      },
      {
        "system": "http://hl7.org/fhir/v3/MaritalStatus",
        "code": "M"
      }
    ]
  },
  "multipleBirthBoolean": false,
  "photo": [
    {
      "contentType": "image/jpeg",
      "url": "binary/@f006"
    }
  ],
  "contact": [
    {
      "relationship": [
        {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "127850001",
              "display": "Wife"
            },
            {
              "system": "http://hl7.org/fhir/patient-contact-relationship",
              "code": "partner"
            }
          ]
        }
      ],
      "name": {
        "use": "usual",
        "text": "Ariadne Bor-Jansma"
      },
      "telecom": [
        {
          "system": "phone",
          "value": "+31201234567",
          "use": "home"
        }
      ]
    }
  ],
  "communication": [
    {
      "coding": [
        {
          "system": "urn:std:iso:639-1",
          "code": "nl-NL",
          "display": "Dutch"
        }
      ]
    }
  ],
  "managingOrganization": {
    "reference": "Organization/%s",
    "display": "AUMC"
  },
  "active": true
}','{name}')::text ilike '%Roel%'),
true,
'index_as_string');
     assert_eq      
--------------------
 OK index_as_string
(1 row)

SELECT assert_eq(
(SELECT index_as_string( E'{
  "resourceType": "Patient",
  "text": {
    "status": "generated",
    "div": "<div>\\n      <p>\\n        <b>Generated Narrative</b>\\n      </p>\\n      <p>\\n        <b>identifier</b>: BSN = 123456789 (official), BSN = 123456789 (official)\\n      </p>\\n      <p>\\n        <b>name</b>: Roel(official)\\n      </p>\\n      <p>\\n        <b>telecom</b>: ph: +31612345678(mobile), ph: +31201234567(home)\\n      </p>\\n      <p>\\n        <b>gender</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 248153007}, {http://hl7.org/fhir/v3/AdministrativeGender M}\\">Male</span>\\n      </p>\\n      <p>\\n        <b>birthDate</b>: 13-Mar 1960\\n      </p>\\n      <p>\\n        <b>deceased[x]</b>: false\\n      </p>\\n      <p>\\n        <b>address</b>: Bos en Lommerplein 280 Amsterdam 1055RW NLD (home)\\n      </p>\\n      <p>\\n        <b>maritalStatus</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 36629006}, {http://hl7.org/fhir/v3/MaritalStatus M}\\">Legally married</span>\\n      </p>\\n      <p>\\n        <b>multipleBirth[x]</b>: false\\n      </p>\\n      <p>\\n        <b>photo</b>: \\n      </p>\\n      <h3>Contacts</h3>\\n      <table class=\\"grid\\">\\n        <tr>\\n          <td>\\n            <b>Relationship</b>\\n          </td>\\n          <td>\\n            <b>Name</b>\\n          </td>\\n          <td>\\n            <b>Telecom</b>\\n          </td>\\n          <td>\\n            <b>Address</b>\\n          </td>\\n          <td>\\n            <b>Gender</b>\\n          </td>\\n          <td>\\n            <b>Organization</b>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <span title=\\"Codes: {http://snomed.info/sct 127850001}, {http://hl7.org/fhir/patient-contact-relationship partner}\\">Wife</span>\\n          </td>\\n          <td>Ariadne Bor-Jansma</td>\\n          <td>ph: +31201234567(home)</td>\\n          <td> </td>\\n          <td> </td>\\n          <td> </td>\\n        </tr>\\n      </table>\\n      <p>\\n        <b>communication</b>: \\n        <span title=\\"Codes: {urn:std:iso:639-1 nl-NL}\\">Dutch</span>\\n      </p>\\n      <p>\\n        <b>managingOrganization</b>: AUMC\\n      </p>\\n      <p>\\n        <b>active</b>: true\\n      </p>\\n    </div>"
  },
  "identifier": [
    {
      "use": "official",
      "label": "MRN",
      "system": "MRN",
      "value": "7777777"
    },
    {
      "use": "official",
      "label": "BSN",
      "system": "urn:oid:2.16.840.1.113883.2.4.6.3",
      "value": "123456789"
    }
  ],
  "name": [
    {
      "use": "official",
      "text": "Roel",
      "family": [
        "Bor"
      ],
      "given": [
        "Roelof Olaf"
      ],
      "prefix": [
        "Drs."
      ],
      "suffix": [
        "PDEng."
      ]
    }
  ],
  "telecom": [
    {
      "system": "phone",
      "value": "+31612345678",
      "use": "mobile"
    },
    {
      "system": "phone",
      "value": "+31201234567",
      "use": "home"
    }
  ],
  "gender": "male",
  "birthDate": "1960-03-13",
  "deceasedBoolean": false,
  "address": [
    {
      "use": "home",
      "line": [
        "Bos en Lommerplein 280"
      ],
      "city": "Amsterdam",
      "zip": "1055RW",
      "country": "NLD"
    }
  ],
  "maritalStatus": {
    "coding": [
      {
        "system": "http://snomed.info/sct",
        "code": "36629006",
        "display": "Legally married"
      },
      {
        "system": "http://hl7.org/fhir/v3/MaritalStatus",
        "code": "M"
      }
    ]
  },
  "multipleBirthBoolean": false,
  "photo": [
    {
      "contentType": "image/jpeg",
      "url": "binary/@f006"
    }
  ],
  "contact": [
    {
      "relationship": [
        {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "127850001",
              "display": "Wife"
            },
            {
              "system": "http://hl7.org/fhir/patient-contact-relationship",
              "code": "partner"
            }
          ]
        }
      ],
      "name": {
        "use": "usual",
        "text": "Ariadne Bor-Jansma"
      },
      "telecom": [
        {
          "system": "phone",
          "value": "+31201234567",
          "use": "home"
        }
      ]
    }
  ],
  "communication": [
    {
      "coding": [
        {
          "system": "urn:std:iso:639-1",
          "code": "nl-NL",
          "display": "Dutch"
        }
      ]
    }
  ],
  "managingOrganization": {
    "reference": "Organization/%s",
    "display": "AUMC"
  },
  "active": true
}','{name}')::text ilike '%Bor%'),
true,
'index_as_string');
     assert_eq      
--------------------
 OK index_as_string
(1 row)

SELECT assert_eq(
(SELECT index_as_reference(format( E'{
  "resourceType": "Patient",
  "text": {
    "status": "generated",
    "div": "<div>\\n      <p>\\n        <b>Generated Narrative</b>\\n      </p>\\n      <p>\\n        <b>identifier</b>: BSN = 123456789 (official), BSN = 123456789 (official)\\n      </p>\\n      <p>\\n        <b>name</b>: Roel(official)\\n      </p>\\n      <p>\\n        <b>telecom</b>: ph: +31612345678(mobile), ph: +31201234567(home)\\n      </p>\\n      <p>\\n        <b>gender</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 248153007}, {http://hl7.org/fhir/v3/AdministrativeGender M}\\">Male</span>\\n      </p>\\n      <p>\\n        <b>birthDate</b>: 13-Mar 1960\\n      </p>\\n      <p>\\n        <b>deceased[x]</b>: false\\n      </p>\\n      <p>\\n        <b>address</b>: Bos en Lommerplein 280 Amsterdam 1055RW NLD (home)\\n      </p>\\n      <p>\\n        <b>maritalStatus</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 36629006}, {http://hl7.org/fhir/v3/MaritalStatus M}\\">Legally married</span>\\n      </p>\\n      <p>\\n        <b>multipleBirth[x]</b>: false\\n      </p>\\n      <p>\\n        <b>photo</b>: \\n      </p>\\n      <h3>Contacts</h3>\\n      <table class=\\"grid\\">\\n        <tr>\\n          <td>\\n            <b>Relationship</b>\\n          </td>\\n          <td>\\n            <b>Name</b>\\n          </td>\\n          <td>\\n            <b>Telecom</b>\\n          </td>\\n          <td>\\n            <b>Address</b>\\n          </td>\\n          <td>\\n            <b>Gender</b>\\n          </td>\\n          <td>\\n            <b>Organization</b>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <span title=\\"Codes: {http://snomed.info/sct 127850001}, {http://hl7.org/fhir/patient-contact-relationship partner}\\">Wife</span>\\n          </td>\\n          <td>Ariadne Bor-Jansma</td>\\n          <td>ph: +31201234567(home)</td>\\n          <td> </td>\\n          <td> </td>\\n          <td> </td>\\n        </tr>\\n      </table>\\n      <p>\\n        <b>communication</b>: \\n        <span title=\\"Codes: {urn:std:iso:639-1 nl-NL}\\">Dutch</span>\\n      </p>\\n      <p>\\n        <b>managingOrganization</b>: AUMC\\n      </p>\\n      <p>\\n        <b>active</b>: true\\n      </p>\\n    </div>"
  },
  "identifier": [
    {
      "use": "official",
      "label": "MRN",
      "system": "MRN",
      "value": "7777777"
    },
    {
      "use": "official",
      "label": "BSN",
      "system": "urn:oid:2.16.840.1.113883.2.4.6.3",
      "value": "123456789"
    }
  ],
  "name": [
    {
      "use": "official",
      "text": "Roel",
      "family": [
        "Bor"
      ],
      "given": [
        "Roelof Olaf"
      ],
      "prefix": [
        "Drs."
      ],
      "suffix": [
        "PDEng."
      ]
    }
  ],
  "telecom": [
    {
      "system": "phone",
      "value": "+31612345678",
      "use": "mobile"
    },
    {
      "system": "phone",
      "value": "+31201234567",
      "use": "home"
    }
  ],
  "gender": "male",
  "birthDate": "1960-03-13",
  "deceasedBoolean": false,
  "address": [
    {
      "use": "home",
      "line": [
        "Bos en Lommerplein 280"
      ],
      "city": "Amsterdam",
      "zip": "1055RW",
      "country": "NLD"
    }
  ],
  "maritalStatus": {
    "coding": [
      {
        "system": "http://snomed.info/sct",
        "code": "36629006",
        "display": "Legally married"
      },
      {
        "system": "http://hl7.org/fhir/v3/MaritalStatus",
        "code": "M"
      }
    ]
  },
  "multipleBirthBoolean": false,
  "photo": [
    {
      "contentType": "image/jpeg",
      "url": "binary/@f006"
    }
  ],
  "contact": [
    {
      "relationship": [
        {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "127850001",
              "display": "Wife"
            },
            {
              "system": "http://hl7.org/fhir/patient-contact-relationship",
              "code": "partner"
            }
          ]
        }
      ],
      "name": {
        "use": "usual",
        "text": "Ariadne Bor-Jansma"
      },
      "telecom": [
        {
          "system": "phone",
          "value": "+31201234567",
          "use": "home"
        }
      ]
    }
  ],
  "communication": [
    {
      "coding": [
        {
          "system": "urn:std:iso:639-1",
          "code": "nl-NL",
          "display": "Dutch"
        }
      ]
    }
  ],
  "managingOrganization": {
    "reference": "Organization/%s",
    "display": "AUMC"
  },
  "active": true
}', '550e8400-e29b-41d4-a716-446655440009')::jsonb,  '{managingOrganization}'::varchar[])),
'{550e8400-e29b-41d4-a716-446655440009,Organization/550e8400-e29b-41d4-a716-446655440009}',
'index reference');
     assert_eq      
--------------------
 OK index reference
(1 row)

/* SELECT index_as_string(:'pt'::jsonb,  '{name}'::varchar[]); */
SELECT assert_eq(
(SELECT
  regexp_matches(
  index_as_string( E'{
  "resourceType": "Patient",
  "text": {
    "status": "generated",
    "div": "<div>\\n      <p>\\n        <b>Generated Narrative</b>\\n      </p>\\n      <p>\\n        <b>identifier</b>: BSN = 123456789 (official), BSN = 123456789 (official)\\n      </p>\\n      <p>\\n        <b>name</b>: Roel(official)\\n      </p>\\n      <p>\\n        <b>telecom</b>: ph: +31612345678(mobile), ph: +31201234567(home)\\n      </p>\\n      <p>\\n        <b>gender</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 248153007}, {http://hl7.org/fhir/v3/AdministrativeGender M}\\">Male</span>\\n      </p>\\n      <p>\\n        <b>birthDate</b>: 13-Mar 1960\\n      </p>\\n      <p>\\n        <b>deceased[x]</b>: false\\n      </p>\\n      <p>\\n        <b>address</b>: Bos en Lommerplein 280 Amsterdam 1055RW NLD (home)\\n      </p>\\n      <p>\\n        <b>maritalStatus</b>: \\n        <span title=\\"Codes: {http://snomed.info/sct 36629006}, {http://hl7.org/fhir/v3/MaritalStatus M}\\">Legally married</span>\\n      </p>\\n      <p>\\n        <b>multipleBirth[x]</b>: false\\n      </p>\\n      <p>\\n        <b>photo</b>: \\n      </p>\\n      <h3>Contacts</h3>\\n      <table class=\\"grid\\">\\n        <tr>\\n          <td>\\n            <b>Relationship</b>\\n          </td>\\n          <td>\\n            <b>Name</b>\\n          </td>\\n          <td>\\n            <b>Telecom</b>\\n          </td>\\n          <td>\\n            <b>Address</b>\\n          </td>\\n          <td>\\n            <b>Gender</b>\\n          </td>\\n          <td>\\n            <b>Organization</b>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>\\n            <span title=\\"Codes: {http://snomed.info/sct 127850001}, {http://hl7.org/fhir/patient-contact-relationship partner}\\">Wife</span>\\n          </td>\\n          <td>Ariadne Bor-Jansma</td>\\n          <td>ph: +31201234567(home)</td>\\n          <td> </td>\\n          <td> </td>\\n          <td> </td>\\n        </tr>\\n      </table>\\n      <p>\\n        <b>communication</b>: \\n        <span title=\\"Codes: {urn:std:iso:639-1 nl-NL}\\">Dutch</span>\\n      </p>\\n      <p>\\n        <b>managingOrganization</b>: AUMC\\n      </p>\\n      <p>\\n        <b>active</b>: true\\n      </p>\\n    </div>"
  },
  "identifier": [
    {
      "use": "official",
      "label": "MRN",
      "system": "MRN",
      "value": "7777777"
    },
    {
      "use": "official",
      "label": "BSN",
      "system": "urn:oid:2.16.840.1.113883.2.4.6.3",
      "value": "123456789"
    }
  ],
  "name": [
    {
      "use": "official",
      "text": "Roel",
      "family": [
        "Bor"
      ],
      "given": [
        "Roelof Olaf"
      ],
      "prefix": [
        "Drs."
      ],
      "suffix": [
        "PDEng."
      ]
    }
  ],
  "telecom": [
    {
      "system": "phone",
      "value": "+31612345678",
      "use": "mobile"
    },
    {
      "system": "phone",
      "value": "+31201234567",
      "use": "home"
    }
  ],
  "gender": "male",
  "birthDate": "1960-03-13",
  "deceasedBoolean": false,
  "address": [
    {
      "use": "home",
      "line": [
        "Bos en Lommerplein 280"
      ],
      "city": "Amsterdam",
      "zip": "1055RW",
      "country": "NLD"
    }
  ],
  "maritalStatus": {
    "coding": [
      {
        "system": "http://snomed.info/sct",
        "code": "36629006",
        "display": "Legally married"
      },
      {
        "system": "http://hl7.org/fhir/v3/MaritalStatus",
        "code": "M"
      }
    ]
  },
  "multipleBirthBoolean": false,
  "photo": [
    {
      "contentType": "image/jpeg",
      "url": "binary/@f006"
    }
  ],
  "contact": [
    {
      "relationship": [
        {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "127850001",
              "display": "Wife"
            },
            {
              "system": "http://hl7.org/fhir/patient-contact-relationship",
              "code": "partner"
            }
          ]
        }
      ],
      "name": {
        "use": "usual",
        "text": "Ariadne Bor-Jansma"
      },
      "telecom": [
        {
          "system": "phone",
          "value": "+31201234567",
          "use": "home"
        }
      ]
    }
  ],
  "communication": [
    {
      "coding": [
        {
          "system": "urn:std:iso:639-1",
          "code": "nl-NL",
          "display": "Dutch"
        }
      ]
    }
  ],
  "managingOrganization": {
    "reference": "Organization/%s",
    "display": "AUMC"
  },
  "active": true
}'::jsonb,  '{name}'::varchar[]),
  'Roel')),
'{Roel}'::text[],
'index_as_string');
     assert_eq      
--------------------
 OK index_as_string
(1 row)

SELECT drop_all_resource_indexes();
 drop_all_resource_indexes 
---------------------------
                       733
(1 row)

SELECT index_search_param('Patient','name');
 index_search_param 
--------------------
 1
(1 row)

SELECT drop_index_search_param('Patient','name');
 drop_index_search_param 
-------------------------
                       1
(1 row)

SELECT index_all_resources();
                                                                                                 index_all_resources                                                                                                  
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 CREATE INDEX questionnaire_code_concept_token_idx ON questionnaire USING GIN (index_coding_as_token(content,'{group,concept}'))
 CREATE INDEX imagingobjectselection_selected_study_uid_token_idx ON imagingobjectselection USING GIN (index_primitive_as_token(content,'{study,uid}'))
 CREATE INDEX reversal_identifier_identifier_token_idx ON reversal USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX nutritionorder_identifier_identifier_token_idx ON nutritionorder USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX practitioner_communication_communication_token_idx ON practitioner USING GIN (index_codeableconcept_as_token(content,'{communication}'))
 CREATE INDEX provenance_location_location_reference_idx ON provenance USING GIN (index_as_reference(content,'{location}'))
 CREATE INDEX imagingstudy_uid_uid_token_idx ON imagingstudy USING GIN (index_primitive_as_token(content,'{series,instance,uid}'))
 CREATE INDEX list_item_item_reference_idx ON list USING GIN (index_as_reference(content,'{entry,item}'))
 CREATE INDEX diagnosticorder_bodysite_bodysite_token_idx ON diagnosticorder USING GIN (index_codeableconcept_as_token(content,'{item,bodySite}'))
 CREATE INDEX medicationdispense_identifier_identifier_token_idx ON medicationdispense USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX deviceuserequest_subject_subject_reference_idx ON deviceuserequest USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX diagnosticreport_diagnosis_codeddiagnosis_token_idx ON diagnosticreport USING GIN (index_codeableconcept_as_token(content,'{codedDiagnosis}'))
 CREATE INDEX dataelement_code_code_token_idx ON dataelement USING GIN (index_coding_as_token(content,'{code}'))
 CREATE INDEX devicemetric_parent_parent_reference_idx ON devicemetric USING GIN (index_as_reference(content,'{parent}'))
 CREATE INDEX communication_patient_subject_reference_idx ON communication USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX composition_attester_party_reference_idx ON composition USING GIN (index_as_reference(content,'{attester,party}'))
 CREATE INDEX condition_category_category_token_idx ON condition USING GIN (index_codeableconcept_as_token(content,'{category}'))
 CREATE INDEX imagingobjectselection_title_title_token_idx ON imagingobjectselection USING GIN (index_codeableconcept_as_token(content,'{title}'))
 CREATE INDEX communicationrequest_time_scheduledtime_date_idx ON communicationrequest USING GIST (index_as_date(content,'{scheduledTime}'::text[], 'dateTime') range_ops)
 CREATE INDEX media_type_type_token_idx ON media USING GIN (index_primitive_as_token(content,'{type}'))
 CREATE INDEX clinicalassessment_careplan_careplan_reference_idx ON clinicalassessment USING GIN (index_as_reference(content,'{careplan}'))
 CREATE INDEX nutritionorder_additive_additivetype_token_idx ON nutritionorder USING GIN (index_codeableconcept_as_token(content,'{item,enteralFormula,additiveType}'))
 CREATE INDEX clinicalassessment_patient_patient_reference_idx ON clinicalassessment USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX communication_recipient_recipient_reference_idx ON communication USING GIN (index_as_reference(content,'{recipient}'))
 CREATE INDEX clinicalassessment_assessor_assessor_reference_idx ON clinicalassessment USING GIN (index_as_reference(content,'{assessor}'))
 CREATE INDEX extensiondefinition_status_status_token_idx ON extensiondefinition USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX medicationdispense_whenprepared_whenprepared_date_idx ON medicationdispense USING GIST (index_as_date(content,'{dispense,whenPrepared}'::text[], 'dateTime') range_ops)
 CREATE INDEX observation_subject_subject_reference_idx ON observation USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX securityevent_type_type_token_idx ON securityevent USING GIN (index_codeableconcept_as_token(content,'{event,type}'))
 CREATE INDEX diagnosticorder_orderer_orderer_reference_idx ON diagnosticorder USING GIN (index_as_reference(content,'{orderer}'))
 CREATE INDEX diagnosticreport_patient_subject_reference_idx ON diagnosticreport USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX medicationadministration_identifier_identifier_token_idx ON medicationadministration USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX conformance_date_date_date_idx ON conformance USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX patient_telecom_telecom_string_idx ON patient USING GIN (index_as_string(content,'{telecom}'::text[]) gin_trgm_ops)
 CREATE INDEX conformance_supported_profile_profile_reference_idx ON conformance USING GIN (index_as_reference(content,'{profile}'))
 CREATE INDEX documentreference_custodian_custodian_reference_idx ON documentreference USING GIN (index_as_reference(content,'{custodian}'))
 CREATE INDEX practitioner_phonetic_name_string_idx ON practitioner USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX composition_type_type_token_idx ON composition USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX allergyintolerance_status_status_token_idx ON allergyintolerance USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX documentmanifest_description_description_string_idx ON documentmanifest USING GIN (index_as_string(content,'{description}'::text[]) gin_trgm_ops)
 CREATE INDEX condition_stage_summary_token_idx ON condition USING GIN (index_codeableconcept_as_token(content,'{stage,summary}'))
 CREATE INDEX clinicalassessment_plan_plan_reference_idx ON clinicalassessment USING GIN (index_as_reference(content,'{plan}'))
 CREATE INDEX communicationrequest_requester_requester_reference_idx ON communicationrequest USING GIN (index_as_reference(content,'{requester}'))
 CREATE INDEX valueset_identifier_identifier_token_idx ON valueset USING GIN (index_primitive_as_token(content,'{identifier}'))
 CREATE INDEX professionalclaim_priority_priority_token_idx ON professionalclaim USING GIN (index_coding_as_token(content,'{priority}'))
 CREATE INDEX imagingstudy_series_uid_token_idx ON imagingstudy USING GIN (index_primitive_as_token(content,'{series,uid}'))
 CREATE INDEX relatedperson_identifier_identifier_token_idx ON relatedperson USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX relatedperson_gender_gender_token_idx ON relatedperson USING GIN (index_primitive_as_token(content,'{gender}'))
 CREATE INDEX encounter_location_location_reference_idx ON encounter USING GIN (index_as_reference(content,'{location,location}'))
 CREATE INDEX conformance_status_status_token_idx ON conformance USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX documentmanifest_type_type_token_idx ON documentmanifest USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX conformance_software_name_string_idx ON conformance USING GIN (index_as_string(content,'{software,name}'::text[]) gin_trgm_ops)
 CREATE INDEX dataelement_version_version_string_idx ON dataelement USING GIN (index_as_string(content,'{version}'::text[]) gin_trgm_ops)
 CREATE INDEX communicationrequest_ordered_orderedon_date_idx ON communicationrequest USING GIST (index_as_date(content,'{orderedOn}'::text[], 'dateTime') range_ops)
 CREATE INDEX allergyintolerance_route_exposureroute_token_idx ON allergyintolerance USING GIN (index_codeableconcept_as_token(content,'{event,exposureRoute}'))
 CREATE INDEX organization_type_type_token_idx ON organization USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX immunizationrecommendation_status_forecaststatus_token_idx ON immunizationrecommendation USING GIN (index_codeableconcept_as_token(content,'{recommendation,forecastStatus}'))
 CREATE INDEX encounter_date_period_date_idx ON encounter USING GIST (index_as_date(content,'{period}'::text[], 'Period') range_ops)
 CREATE INDEX operationdefinition_code_code_token_idx ON operationdefinition USING GIN (index_coding_as_token(content,'{code}'))
 CREATE INDEX diagnosticreport_issued_issued_date_idx ON diagnosticreport USING GIST (index_as_date(content,'{issued}'::text[], 'dateTime') range_ops)
 CREATE INDEX questionnaireanswers_encounter_encounter_reference_idx ON questionnaireanswers USING GIN (index_as_reference(content,'{encounter}'))
 CREATE INDEX diagnosticorder_event_status_status_token_idx ON diagnosticorder USING GIN (index_primitive_as_token(content,'{event,status}'))
 CREATE INDEX allergyintolerance_subject_subject_reference_idx ON allergyintolerance USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX procedurerequest_patient_subject_reference_idx ON procedurerequest USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX appointment_partstatus_status_token_idx ON appointment USING GIN (index_primitive_as_token(content,'{participant,status}'))
 CREATE INDEX operationdefinition_identifier_identifier_token_idx ON operationdefinition USING GIN (index_primitive_as_token(content,'{identifier}'))
 CREATE INDEX communication_encounter_encounter_reference_idx ON communication USING GIN (index_as_reference(content,'{encounter}'))
 CREATE INDEX relatedperson_name_name_string_idx ON relatedperson USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX condition_evidence_code_token_idx ON condition USING GIN (index_codeableconcept_as_token(content,'{evidence,code}'))
 CREATE INDEX order_when_schedule_date_idx ON "order" USING GIST (index_as_date(content,'{when,schedule}'::text[], 'Timing') range_ops)
 CREATE INDEX medicationstatement_patient_patient_reference_idx ON medicationstatement USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX communicationrequest_category_category_token_idx ON communicationrequest USING GIN (index_codeableconcept_as_token(content,'{category}'))
 CREATE INDEX valueset_name_name_string_idx ON valueset USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX questionnaireanswers_subject_subject_reference_idx ON questionnaireanswers USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX communicationrequest_identifier_identifier_token_idx ON communicationrequest USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX securityevent_site_site_token_idx ON securityevent USING GIN (index_primitive_as_token(content,'{source,site}'))
 CREATE INDEX immunization_manufacturer_manufacturer_reference_idx ON immunization USING GIN (index_as_reference(content,'{manufacturer}'))
 CREATE INDEX subscription_tag_term_string_idx ON subscription USING GIN (index_as_string(content,'{tag,term}'::text[]) gin_trgm_ops)
 CREATE INDEX documentreference_location_location_string_idx ON documentreference USING GIN (index_as_string(content,'{location}'::text[]) gin_trgm_ops)
 CREATE INDEX dataelement_publisher_publisher_string_idx ON dataelement USING GIN (index_as_string(content,'{publisher}'::text[]) gin_trgm_ops)
 CREATE INDEX patient_careprovider_careprovider_reference_idx ON patient USING GIN (index_as_reference(content,'{careProvider}'))
 CREATE INDEX person_telecom_telecom_string_idx ON person USING GIN (index_as_string(content,'{telecom}'::text[]) gin_trgm_ops)
 CREATE INDEX statusresponse_identifier_identifier_token_idx ON statusresponse USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX contract_patient_subject_reference_idx ON contract USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX patient_link_other_reference_idx ON patient USING GIN (index_as_reference(content,'{link,other}'))
 CREATE INDEX riskassessment_subject_subject_reference_idx ON riskassessment USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX profile_name_name_string_idx ON profile USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX healthcareservice_location_location_reference_idx ON healthcareservice USING GIN (index_as_reference(content,'{location}'))
 CREATE INDEX goal_patient_patient_reference_idx ON goal USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX supply_status_status_token_idx ON supply USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX supportingdocumentation_identifier_identifier_token_idx ON supportingdocumentation USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX immunizationrecommendation_date_date_date_idx ON immunizationrecommendation USING GIST (index_as_date(content,'{recommendation,date}'::text[], 'dateTime') range_ops)
 CREATE INDEX questionnaireanswers_status_status_token_idx ON questionnaireanswers USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX visionprescription_patient_patient_reference_idx ON visionprescription USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX pharmacyclaim_patient_patient_reference_idx ON pharmacyclaim USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX allergyintolerance_severity_severity_token_idx ON allergyintolerance USING GIN (index_primitive_as_token(content,'{event,severity}'))
 CREATE INDEX practitioner_location_location_reference_idx ON practitioner USING GIN (index_as_reference(content,'{location}'))
 CREATE INDEX allergyintolerance_last_date_lastoccurence_date_idx ON allergyintolerance USING GIST (index_as_date(content,'{lastOccurence}'::text[], 'dateTime') range_ops)
 CREATE INDEX documentmanifest_subject_subject_reference_idx ON documentmanifest USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX list_subject_subject_reference_idx ON list USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX device_udi_udi_string_idx ON device USING GIN (index_as_string(content,'{udi}'::text[]) gin_trgm_ops)
 CREATE INDEX observation_data_absent_reason_dataabsentreason_token_idx ON observation USING GIN (index_primitive_as_token(content,'{dataAbsentReason}'))
 CREATE INDEX clinicalassessment_diagnosis_item_token_idx ON clinicalassessment USING GIN (index_codeableconcept_as_token(content,'{diagnosis,item}'))
 CREATE INDEX securityevent_desc_name_string_idx ON securityevent USING GIN (index_as_string(content,'{object,name}'::text[]) gin_trgm_ops)
 CREATE INDEX bundle_type_type_token_idx ON bundle USING GIN (index_primitive_as_token(content,'{type}'))
 CREATE INDEX imagingobjectselection_author_author_reference_idx ON imagingobjectselection USING GIN (index_as_reference(content,'{author}'))
 CREATE INDEX composition_context_code_token_idx ON composition USING GIN (index_codeableconcept_as_token(content,'{event,code}'))
 CREATE INDEX group_member_member_reference_idx ON "group" USING GIN (index_as_reference(content,'{member}'))
 CREATE INDEX composition_status_status_token_idx ON composition USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX condition_dueto_item_target_reference_idx ON condition USING GIN (index_as_reference(content,'{dueTo,target}'))
 CREATE INDEX questionnaireanswers_questionnaire_questionnaire_reference_idx ON questionnaireanswers USING GIN (index_as_reference(content,'{questionnaire}'))
 CREATE INDEX encounter_type_type_token_idx ON encounter USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX professionalclaim_identifier_identifier_token_idx ON professionalclaim USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX medicationadministration_status_status_token_idx ON medicationadministration USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX eligibilityresponse_identifier_identifier_token_idx ON eligibilityresponse USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX extensiondefinition_description_description_string_idx ON extensiondefinition USING GIN (index_as_string(content,'{description}'::text[]) gin_trgm_ops)
 CREATE INDEX riskassessment_method_method_token_idx ON riskassessment USING GIN (index_codeableconcept_as_token(content,'{method}'))
 CREATE INDEX medicationstatement_when_given_whengiven_date_idx ON medicationstatement USING GIST (index_as_date(content,'{whenGiven}'::text[], 'Period') range_ops)
 CREATE INDEX extensiondefinition_date_date_date_idx ON extensiondefinition USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX messageheader_source_name_string_idx ON messageheader USING GIN (index_as_string(content,'{source,name}'::text[]) gin_trgm_ops)
 CREATE INDEX dataelement_status_status_token_idx ON dataelement USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX oralhealthclaim_identifier_identifier_token_idx ON oralhealthclaim USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX diagnosticorder_identifier_identifier_token_idx ON diagnosticorder USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX documentreference_patient_subject_reference_idx ON documentreference USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX person_gender_gender_token_idx ON person USING GIN (index_primitive_as_token(content,'{gender}'))
 CREATE INDEX clinicalassessment_ruledout_item_token_idx ON clinicalassessment USING GIN (index_codeableconcept_as_token(content,'{ruledOut,item}'))
 CREATE INDEX composition_section_content_reference_idx ON composition USING GIN (index_as_reference(content,'{section,content}'))
 CREATE INDEX other_patient_subject_reference_idx ON other USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX conceptmap_version_version_token_idx ON conceptmap USING GIN (index_primitive_as_token(content,'{version}'))
 CREATE INDEX clinicalassessment_problem_problem_reference_idx ON clinicalassessment USING GIN (index_as_reference(content,'{problem}'))
 CREATE INDEX condition_severity_severity_token_idx ON condition USING GIN (index_codeableconcept_as_token(content,'{severity}'))
 CREATE INDEX composition_subject_subject_reference_idx ON composition USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX careplan2_patient_patient_reference_idx ON careplan2 USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX devicecomponent_type_type_token_idx ON devicecomponent USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX valueset_publisher_publisher_string_idx ON valueset USING GIN (index_as_string(content,'{publisher}'::text[]) gin_trgm_ops)
 CREATE INDEX subscription_url_url_string_idx ON subscription USING GIN (index_as_string(content,'{channel,url}'::text[]) gin_trgm_ops)
 CREATE INDEX order_subject_subject_reference_idx ON "order" USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX composition_period_period_date_idx ON composition USING GIST (index_as_date(content,'{event,period}'::text[], 'Period') range_ops)
 CREATE INDEX encounter_patient_patient_reference_idx ON encounter USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX securityevent_action_action_token_idx ON securityevent USING GIN (index_primitive_as_token(content,'{event,action}'))
 CREATE INDEX operationdefinition_name_name_token_idx ON operationdefinition USING GIN (index_primitive_as_token(content,'{name}'))
 CREATE INDEX practitioner_family_name_string_idx ON practitioner USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX media_subtype_subtype_token_idx ON media USING GIN (index_codeableconcept_as_token(content,'{subtype}'))
 CREATE INDEX medication_code_code_token_idx ON medication USING GIN (index_codeableconcept_as_token(content,'{code}'))
 CREATE INDEX medicationstatement_identifier_identifier_token_idx ON medicationstatement USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX specimen_source_target_reference_idx ON specimen USING GIN (index_as_reference(content,'{source,target}'))
 CREATE INDEX person_identifier_identifier_token_idx ON person USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX conformance_event_code_token_idx ON conformance USING GIN (index_coding_as_token(content,'{messaging,event,code}'))
 CREATE INDEX location_organization_managingorganization_reference_idx ON location USING GIN (index_as_reference(content,'{managingOrganization}'))
 CREATE INDEX conceptmap_status_status_token_idx ON conceptmap USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX immunization_location_location_reference_idx ON immunization USING GIN (index_as_reference(content,'{location}'))
 CREATE INDEX referralrequest_recipient_recipient_reference_idx ON referralrequest USING GIN (index_as_reference(content,'{recipient}'))
 CREATE INDEX profile_publisher_publisher_string_idx ON profile USING GIN (index_as_string(content,'{publisher}'::text[]) gin_trgm_ops)
 CREATE INDEX paymentreconciliation_identifier_identifier_token_idx ON paymentreconciliation USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX immunization_refusal_reason_refusalreason_token_idx ON immunization USING GIN (index_codeableconcept_as_token(content,'{explanation,refusalReason}'))
 CREATE INDEX valueset_reference_system_token_idx ON valueset USING GIN (index_primitive_as_token(content,'{compose,include,system}'))
 CREATE INDEX operationdefinition_base_base_reference_idx ON operationdefinition USING GIN (index_as_reference(content,'{base}'))
 CREATE INDEX condition_dueto_code_codeableconcept_token_idx ON condition USING GIN (index_codeableconcept_as_token(content,'{dueTo,codeableConcept}'))
 CREATE INDEX order_date_date_date_idx ON "order" USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX clinicalassessment_action_action_reference_idx ON clinicalassessment USING GIN (index_as_reference(content,'{action}'))
 CREATE INDEX practitioner_organization_organization_reference_idx ON practitioner USING GIN (index_as_reference(content,'{organization}'))
 CREATE INDEX specimen_patient_subject_reference_idx ON specimen USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX diagnosticorder_subject_subject_reference_idx ON diagnosticorder USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX device_manufacturer_manufacturer_string_idx ON device USING GIN (index_as_string(content,'{manufacturer}'::text[]) gin_trgm_ops)
 CREATE INDEX operationdefinition_kind_kind_token_idx ON operationdefinition USING GIN (index_primitive_as_token(content,'{kind}'))
 CREATE INDEX communicationrequest_sender_sender_reference_idx ON communicationrequest USING GIN (index_as_reference(content,'{sender}'))
 CREATE INDEX coverage_identifier_identifier_token_idx ON coverage USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX schedule_actor_actor_reference_idx ON schedule USING GIN (index_as_reference(content,'{actor}'))
 CREATE INDEX subscription_criteria_criteria_string_idx ON subscription USING GIN (index_as_string(content,'{criteria}'::text[]) gin_trgm_ops)
 CREATE INDEX immunizationrecommendation_support_supportingimmunization_reference_idx ON immunizationrecommendation USING GIN (index_as_reference(content,'{recommendation,supportingImmunization}'))
 CREATE INDEX careplan_activitydetail_detail_reference_idx ON careplan USING GIN (index_as_reference(content,'{activity,detail}'))
 CREATE INDEX specimen_containerid_identifier_token_idx ON specimen USING GIN (index_identifier_as_token(content,'{container,identifier}'))
 CREATE INDEX diagnosticorder_item_status_status_token_idx ON diagnosticorder USING GIN (index_primitive_as_token(content,'{item,status}'))
 CREATE INDEX documentreference_language_primarylanguage_token_idx ON documentreference USING GIN (index_primitive_as_token(content,'{primaryLanguage}'))
 CREATE INDEX immunization_lot_number_lotnumber_string_idx ON immunization USING GIN (index_as_string(content,'{lotNumber}'::text[]) gin_trgm_ops)
 CREATE INDEX conformance_identifier_identifier_token_idx ON conformance USING GIN (index_primitive_as_token(content,'{identifier}'))
 CREATE INDEX operationdefinition_publisher_publisher_string_idx ON operationdefinition USING GIN (index_as_string(content,'{publisher}'::text[]) gin_trgm_ops)
 CREATE INDEX substance_expiry_expiry_date_idx ON substance USING GIST (index_as_date(content,'{instance,expiry}'::text[], 'dateTime') range_ops)
 CREATE INDEX visionclaim_identifier_identifier_token_idx ON visionclaim USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX composition_identifier_identifier_token_idx ON composition USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX documentreference_status_status_token_idx ON documentreference USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX observation_identifier_identifier_token_idx ON observation USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX condition_patient_subject_reference_idx ON condition USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX professionalclaim_patient_patient_reference_idx ON professionalclaim USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX organization_active_active_token_idx ON organization USING GIN (index_primitive_as_token(content,'{active}'))
 CREATE INDEX slot_schedule_schedule_reference_idx ON slot USING GIN (index_as_reference(content,'{schedule}'))
 CREATE INDEX operationdefinition_type_type_token_idx ON operationdefinition USING GIN (index_primitive_as_token(content,'{type}'))
 CREATE INDEX orderresponse_request_request_reference_idx ON orderresponse USING GIN (index_as_reference(content,'{request}'))
 CREATE INDEX searchparameter_url_url_token_idx ON searchparameter USING GIN (index_primitive_as_token(content,'{url}'))
 CREATE INDEX medicationprescription_datewritten_datewritten_date_idx ON medicationprescription USING GIST (index_as_date(content,'{dateWritten}'::text[], 'dateTime') range_ops)
 CREATE INDEX referralrequest_patient_patient_reference_idx ON referralrequest USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX visionprescription_identifier_identifier_token_idx ON visionprescription USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX supportingdocumentation_subject_subject_reference_idx ON supportingdocumentation USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX referralrequest_type_type_token_idx ON referralrequest USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX communicationrequest_status_status_token_idx ON communicationrequest USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX medicationadministration_patient_patient_reference_idx ON medicationadministration USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX valueset_system_system_token_idx ON valueset USING GIN (index_primitive_as_token(content,'{define,system}'))
 CREATE INDEX diagnosticreport_result_result_reference_idx ON diagnosticreport USING GIN (index_as_reference(content,'{result}'))
 CREATE INDEX messageheader_source_uri_endpoint_token_idx ON messageheader USING GIN (index_primitive_as_token(content,'{source,endpoint}'))
 CREATE INDEX clinicalassessment_investigation_item_reference_idx ON clinicalassessment USING GIN (index_as_reference(content,'{investigations,item}'))
 CREATE INDEX orderresponse_who_who_reference_idx ON orderresponse USING GIN (index_as_reference(content,'{who}'))
 CREATE INDEX medicationadministration_encounter_encounter_reference_idx ON medicationadministration USING GIN (index_as_reference(content,'{encounter}'))
 CREATE INDEX immunizationrecommendation_patient_subject_reference_idx ON immunizationrecommendation USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX appointment_date_start_date_idx ON appointment USING GIST (index_as_date(content,'{start}'::text[], 'instant') range_ops)
 CREATE INDEX profile_type_type_token_idx ON profile USING GIN (index_primitive_as_token(content,'{type}'))
 CREATE INDEX practitioner_address_address_string_idx ON practitioner USING GIN (index_as_string(content,'{address}'::text[]) gin_trgm_ops)
 CREATE INDEX communicationrequest_subject_subject_reference_idx ON communicationrequest USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX appointmentresponse_subject_individual_reference_idx ON appointmentresponse USING GIN (index_as_reference(content,'{individual}'))
 CREATE INDEX medicationdispense_type_type_token_idx ON medicationdispense USING GIN (index_codeableconcept_as_token(content,'{dispense,type}'))
 CREATE INDEX medicationdispense_patient_patient_reference_idx ON medicationdispense USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX supply_identifier_identifier_token_idx ON supply USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX devicecomponent_parent_parent_reference_idx ON devicecomponent USING GIN (index_as_reference(content,'{parent}'))
 CREATE INDEX media_view_view_token_idx ON media USING GIN (index_codeableconcept_as_token(content,'{view}'))
 CREATE INDEX nutritionorder_provider_orderer_reference_idx ON nutritionorder USING GIN (index_as_reference(content,'{orderer}'))
 CREATE INDEX questionnaire_date_date_date_idx ON questionnaire USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX securityevent_altid_altid_token_idx ON securityevent USING GIN (index_primitive_as_token(content,'{participant,altId}'))
 CREATE INDEX institutionalclaim_identifier_identifier_token_idx ON institutionalclaim USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX episodeofcare_organization_managingorganization_reference_idx ON episodeofcare USING GIN (index_as_reference(content,'{managingOrganization}'))
 CREATE INDEX conceptmap_identifier_identifier_token_idx ON conceptmap USING GIN (index_primitive_as_token(content,'{identifier}'))
 CREATE INDEX riskassessment_identifier_identifier_token_idx ON riskassessment USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX conformance_description_description_string_idx ON conformance USING GIN (index_as_string(content,'{description}'::text[]) gin_trgm_ops)
 CREATE INDEX procedure_patient_patient_reference_idx ON procedure USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX binary_contenttype_contenttype_token_idx ON "binary" USING GIN (index_primitive_as_token(content,'{contentType}'))
 CREATE INDEX diagnosticreport_service_servicecategory_token_idx ON diagnosticreport USING GIN (index_codeableconcept_as_token(content,'{serviceCategory}'))
 CREATE INDEX specimen_collector_collector_reference_idx ON specimen USING GIN (index_as_reference(content,'{collection,collector}'))
 CREATE INDEX documentmanifest_content_content_reference_idx ON documentmanifest USING GIN (index_as_reference(content,'{content}'))
 CREATE INDEX encounter_participant_type_type_token_idx ON encounter USING GIN (index_codeableconcept_as_token(content,'{participant,type}'))
 CREATE INDEX allergyintolerance_manifestation_manifestation_token_idx ON allergyintolerance USING GIN (index_codeableconcept_as_token(content,'{event,manifestation}'))
 CREATE INDEX questionnaire_identifier_identifier_token_idx ON questionnaire USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX encounter_identifier_identifier_token_idx ON encounter USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX diagnosticreport_image_link_reference_idx ON diagnosticreport USING GIN (index_as_reference(content,'{image,link}'))
 CREATE INDEX medication_container_container_token_idx ON medication USING GIN (index_codeableconcept_as_token(content,'{package,container}'))
 CREATE INDEX patient_birthdate_birthdate_date_idx ON patient USING GIST (index_as_date(content,'{birthDate}'::text[], 'date') range_ops)
 CREATE INDEX careplan_condition_concern_reference_idx ON careplan USING GIN (index_as_reference(content,'{concern}'))
 CREATE INDEX documentmanifest_status_status_token_idx ON documentmanifest USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX observation_specimen_specimen_reference_idx ON observation USING GIN (index_as_reference(content,'{specimen}'))
 CREATE INDEX deviceusestatement_subject_subject_reference_idx ON deviceusestatement USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX communicationrequest_medium_medium_token_idx ON communicationrequest USING GIN (index_codeableconcept_as_token(content,'{medium}'))
 CREATE INDEX patient_organization_managingorganization_reference_idx ON patient USING GIN (index_as_reference(content,'{managingOrganization}'))
 CREATE INDEX documentreference_confidentiality_confidentiality_token_idx ON documentreference USING GIN (index_codeableconcept_as_token(content,'{confidentiality}'))
 CREATE INDEX allergyintolerance_identifier_identifier_token_idx ON allergyintolerance USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX eligibilityrequest_identifier_identifier_token_idx ON eligibilityrequest USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX orderresponse_code_code_token_idx ON orderresponse USING GIN (index_primitive_as_token(content,'{code}'))
 CREATE INDEX episodeofcare_care_manager_caremanager_reference_idx ON episodeofcare USING GIN (index_as_reference(content,'{careManager}'))
 CREATE INDEX searchparameter_description_description_string_idx ON searchparameter USING GIN (index_as_string(content,'{description}'::text[]) gin_trgm_ops)
 CREATE INDEX imagingstudy_started_started_date_idx ON imagingstudy USING GIST (index_as_date(content,'{started}'::text[], 'dateTime') range_ops)
 CREATE INDEX clinicalassessment_referral_referral_reference_idx ON clinicalassessment USING GIN (index_as_reference(content,'{referral}'))
 CREATE INDEX subscription_type_type_token_idx ON subscription USING GIN (index_primitive_as_token(content,'{channel,type}'))
 CREATE INDEX person_address_address_string_idx ON person USING GIN (index_as_string(content,'{address}'::text[]) gin_trgm_ops)
 CREATE INDEX healthcareservice_name_servicename_string_idx ON healthcareservice USING GIN (index_as_string(content,'{serviceName}'::text[]) gin_trgm_ops)
 CREATE INDEX enrollmentrequest_patient_subject_reference_idx ON enrollmentrequest USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX group_exclude_exclude_token_idx ON "group" USING GIN (index_primitive_as_token(content,'{characteristic,exclude}'))
 CREATE INDEX alert_patient_subject_reference_idx ON alert USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX communication_sent_sent_date_idx ON communication USING GIST (index_as_date(content,'{sent}'::text[], 'dateTime') range_ops)
 CREATE INDEX conformance_version_version_token_idx ON conformance USING GIN (index_primitive_as_token(content,'{version}'))
 CREATE INDEX medicationdispense_responsibleparty_responsibleparty_reference_idx ON medicationdispense USING GIN (index_as_reference(content,'{substitution,responsibleParty}'))
 CREATE INDEX imagingstudy_patient_patient_reference_idx ON imagingstudy USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX immunization_patient_subject_reference_idx ON immunization USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX imagingstudy_modality_modality_token_idx ON imagingstudy USING GIN (index_primitive_as_token(content,'{series,modality}'))
 CREATE INDEX patient_name_name_string_idx ON patient USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX documentreference_authenticator_authenticator_reference_idx ON documentreference USING GIN (index_as_reference(content,'{authenticator}'))
 CREATE INDEX operationdefinition_system_system_token_idx ON operationdefinition USING GIN (index_primitive_as_token(content,'{system}'))
 CREATE INDEX location_name_name_string_idx ON location USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX devicemetric_category_category_token_idx ON devicemetric USING GIN (index_primitive_as_token(content,'{category}'))
 CREATE INDEX questionnaireanswers_authored_authored_date_idx ON questionnaireanswers USING GIST (index_as_date(content,'{authored}'::text[], 'dateTime') range_ops)
 CREATE INDEX messageheader_receiver_receiver_reference_idx ON messageheader USING GIN (index_as_reference(content,'{receiver}'))
 CREATE INDEX conceptmap_date_date_date_idx ON conceptmap USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX observation_related_target_target_reference_idx ON observation USING GIN (index_as_reference(content,'{related,target}'))
 CREATE INDEX condition_code_code_token_idx ON condition USING GIN (index_codeableconcept_as_token(content,'{code}'))
 CREATE INDEX basic_code_code_token_idx ON basic USING GIN (index_codeableconcept_as_token(content,'{code}'))
 CREATE INDEX riskassessment_condition_condition_reference_idx ON riskassessment USING GIN (index_as_reference(content,'{condition}'))
 CREATE INDEX conceptmap_description_description_string_idx ON conceptmap USING GIN (index_as_string(content,'{description}'::text[]) gin_trgm_ops)
 CREATE INDEX nutritionorder_status_status_token_idx ON nutritionorder USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX orderresponse_date_date_date_idx ON orderresponse USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX extensiondefinition_url_url_token_idx ON extensiondefinition USING GIN (index_primitive_as_token(content,'{url}'))
 CREATE INDEX readjudicate_identifier_identifier_token_idx ON readjudicate USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX referralrequest_status_status_token_idx ON referralrequest USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX observation_name_name_token_idx ON observation USING GIN (index_codeableconcept_as_token(content,'{name}'))
 CREATE INDEX allergyintolerance_date_recordeddate_date_idx ON allergyintolerance USING GIST (index_as_date(content,'{recordedDate}'::text[], 'dateTime') range_ops)
 CREATE INDEX media_patient_subject_reference_idx ON media USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX imagingstudy_accession_accession_token_idx ON imagingstudy USING GIN (index_identifier_as_token(content,'{accession}'))
 CREATE INDEX documentmanifest_created_created_date_idx ON documentmanifest USING GIST (index_as_date(content,'{created}'::text[], 'dateTime') range_ops)
 CREATE INDEX group_type_type_token_idx ON "group" USING GIN (index_primitive_as_token(content,'{type}'))
 CREATE INDEX order_target_target_reference_idx ON "order" USING GIN (index_as_reference(content,'{target}'))
 CREATE INDEX dataelement_name_name_string_idx ON dataelement USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX patient_identifier_identifier_token_idx ON patient USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX nutritionorder_subject_subject_reference_idx ON nutritionorder USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX observation_related_type_type_token_idx ON observation USING GIN (index_primitive_as_token(content,'{related,type}'))
 CREATE INDEX provenance_target_target_reference_idx ON provenance USING GIN (index_as_reference(content,'{target}'))
 CREATE INDEX patient_animal_species_species_token_idx ON patient USING GIN (index_codeableconcept_as_token(content,'{animal,species}'))
 CREATE INDEX devicemetric_source_source_reference_idx ON devicemetric USING GIN (index_as_reference(content,'{source}'))
 CREATE INDEX relatedperson_telecom_telecom_string_idx ON relatedperson USING GIN (index_as_string(content,'{telecom}'::text[]) gin_trgm_ops)
 CREATE INDEX pharmacyclaim_identifier_identifier_token_idx ON pharmacyclaim USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX clinicalassessment_previous_previous_reference_idx ON clinicalassessment USING GIN (index_as_reference(content,'{previous}'))
 CREATE INDEX encounter_part_of_partof_reference_idx ON encounter USING GIN (index_as_reference(content,'{partOf}'))
 CREATE INDEX basic_created_created_date_idx ON basic USING GIST (index_as_date(content,'{created}'::text[], 'date') range_ops)
 CREATE INDEX conceptmap_system_codesystem_token_idx ON conceptmap USING GIN (index_primitive_as_token(content,'{element,map,codeSystem}'))
 CREATE INDEX basic_subject_subject_reference_idx ON basic USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX riskassessment_performer_performer_reference_idx ON riskassessment USING GIN (index_as_reference(content,'{performer}'))
 CREATE INDEX extensiondefinition_identifier_identifier_token_idx ON extensiondefinition USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX clinicalassessment_date_date_date_idx ON clinicalassessment USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX procedure_type_type_token_idx ON procedure USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX referralrequest_priority_priority_token_idx ON referralrequest USING GIN (index_codeableconcept_as_token(content,'{priority}'))
 CREATE INDEX nutritionorder_datetime_datetime_date_idx ON nutritionorder USING GIST (index_as_date(content,'{dateTime}'::text[], 'dateTime') range_ops)
 CREATE INDEX episodeofcare_status_currentstatus_token_idx ON episodeofcare USING GIN (index_primitive_as_token(content,'{currentStatus}'))
 CREATE INDEX patient_gender_gender_token_idx ON patient USING GIN (index_primitive_as_token(content,'{gender}'))
 CREATE INDEX medication_ingredient_item_reference_idx ON medication USING GIN (index_as_reference(content,'{product,ingredient,item}'))
 CREATE INDEX oralhealthclaim_priority_priority_token_idx ON oralhealthclaim USING GIN (index_coding_as_token(content,'{priority}'))
 CREATE INDEX slot_fbtype_freebusytype_token_idx ON slot USING GIN (index_primitive_as_token(content,'{freeBusyType}'))
 CREATE INDEX practitioner_telecom_telecom_string_idx ON practitioner USING GIN (index_as_string(content,'{telecom}'::text[]) gin_trgm_ops)
 CREATE INDEX securityevent_identity_identifier_token_idx ON securityevent USING GIN (index_identifier_as_token(content,'{object,identifier}'))
 CREATE INDEX messageheader_code_code_token_idx ON messageheader USING GIN (index_primitive_as_token(content,'{response,code}'))
 CREATE INDEX allergyintolerance_category_category_token_idx ON allergyintolerance USING GIN (index_primitive_as_token(content,'{category}'))
 CREATE INDEX coverage_issuer_issuer_reference_idx ON coverage USING GIN (index_as_reference(content,'{issuer}'))
 CREATE INDEX conceptmap_name_name_string_idx ON conceptmap USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX dataelement_date_date_date_idx ON dataelement USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX medication_form_form_token_idx ON medication USING GIN (index_codeableconcept_as_token(content,'{product,form}'))
 CREATE INDEX statusrequest_identifier_identifier_token_idx ON statusrequest USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX medicationadministration_medication_medication_reference_idx ON medicationadministration USING GIN (index_as_reference(content,'{medication}'))
 CREATE INDEX provenance_party_reference_token_idx ON provenance USING GIN (index_primitive_as_token(content,'{agent,reference}'))
 CREATE INDEX allergyintolerance_recorder_recorder_reference_idx ON allergyintolerance USING GIN (index_as_reference(content,'{recorder}'))
 CREATE INDEX location_type_type_token_idx ON location USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX other_code_code_token_idx ON other USING GIN (index_codeableconcept_as_token(content,'{code}'))
 CREATE INDEX person_birthdate_birthdate_date_idx ON person USING GIST (index_as_date(content,'{birthDate}'::text[], 'dateTime') range_ops)
 CREATE INDEX subscription_status_status_token_idx ON subscription USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX immunization_refused_refusedindicator_token_idx ON immunization USING GIN (index_primitive_as_token(content,'{refusedIndicator}'))
 CREATE INDEX composition_date_date_date_idx ON composition USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX documentreference_subject_subject_reference_idx ON documentreference USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX other_subject_subject_reference_idx ON other USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX other_created_created_date_idx ON other USING GIST (index_as_date(content,'{created}'::text[], 'date') range_ops)
 CREATE INDEX device_organization_owner_reference_idx ON device USING GIN (index_as_reference(content,'{owner}'))
 CREATE INDEX medicationdispense_status_status_token_idx ON medicationdispense USING GIN (index_primitive_as_token(content,'{dispense,status}'))
 CREATE INDEX patient_active_active_token_idx ON patient USING GIN (index_primitive_as_token(content,'{active}'))
 CREATE INDEX dataelement_category_category_token_idx ON dataelement USING GIN (index_codeableconcept_as_token(content,'{category}'))
 CREATE INDEX composition_author_author_reference_idx ON composition USING GIN (index_as_reference(content,'{author}'))
 CREATE INDEX conformance_publisher_publisher_string_idx ON conformance USING GIN (index_as_string(content,'{publisher}'::text[]) gin_trgm_ops)
 CREATE INDEX organization_name_name_string_idx ON organization USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX composition_class_class_token_idx ON composition USING GIN (index_codeableconcept_as_token(content,'{class}'))
 CREATE INDEX careplan_patient_patient_reference_idx ON careplan USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX order_patient_subject_reference_idx ON "order" USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX diagnosticorder_status_status_token_idx ON diagnosticorder USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX dataelement_identifier_identifier_token_idx ON dataelement USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX specimen_identifier_identifier_token_idx ON specimen USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX composition_patient_subject_reference_idx ON composition USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX list_date_date_date_idx ON list USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX communication_medium_medium_token_idx ON communication USING GIN (index_codeableconcept_as_token(content,'{medium}'))
 CREATE INDEX questionnaireanswers_patient_subject_reference_idx ON questionnaireanswers USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX media_operator_operator_reference_idx ON media USING GIN (index_as_reference(content,'{operator}'))
 CREATE INDEX procedure_date_date_date_idx ON procedure USING GIST (index_as_date(content,'{date}'::text[], 'Period') range_ops)
 CREATE INDEX orderresponse_fulfillment_fulfillment_reference_idx ON orderresponse USING GIN (index_as_reference(content,'{fulfillment}'))
 CREATE INDEX claimresponse_identifier_identifier_token_idx ON claimresponse USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX operationdefinition_version_version_token_idx ON operationdefinition USING GIN (index_primitive_as_token(content,'{version}'))
 CREATE INDEX messageheader_event_event_token_idx ON messageheader USING GIN (index_coding_as_token(content,'{event}'))
 CREATE INDEX searchparameter_type_type_token_idx ON searchparameter USING GIN (index_primitive_as_token(content,'{type}'))
 CREATE INDEX group_characteristic_code_token_idx ON "group" USING GIN (index_codeableconcept_as_token(content,'{characteristic,code}'))
 CREATE INDEX observation_encounter_encounter_reference_idx ON observation USING GIN (index_as_reference(content,'{encounter}'))
 CREATE INDEX securityevent_object_type_type_token_idx ON securityevent USING GIN (index_primitive_as_token(content,'{object,type}'))
 CREATE INDEX immunizationrecommendation_identifier_identifier_token_idx ON immunizationrecommendation USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX contract_subject_subject_reference_idx ON contract USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX riskassessment_patient_subject_reference_idx ON riskassessment USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX valueset_version_version_token_idx ON valueset USING GIN (index_primitive_as_token(content,'{version}'))
 CREATE INDEX profile_url_url_token_idx ON profile USING GIN (index_primitive_as_token(content,'{url}'))
 CREATE INDEX diagnosticreport_request_requestdetail_reference_idx ON diagnosticreport USING GIN (index_as_reference(content,'{requestDetail}'))
 CREATE INDEX observation_performer_performer_reference_idx ON observation USING GIN (index_as_reference(content,'{performer}'))
 CREATE INDEX diagnosticreport_performer_performer_reference_idx ON diagnosticreport USING GIN (index_as_reference(content,'{performer}'))
 CREATE INDEX familyhistory_patient_patient_reference_idx ON familyhistory USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX device_type_type_token_idx ON device USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX provenance_end_end_date_idx ON provenance USING GIST (index_as_date(content,'{period,end}'::text[], 'dateTime') range_ops)
 CREATE INDEX operationdefinition_title_title_string_idx ON operationdefinition USING GIN (index_as_string(content,'{title}'::text[]) gin_trgm_ops)
 CREATE INDEX medicationdispense_medication_medication_reference_idx ON medicationdispense USING GIN (index_as_reference(content,'{dispense,medication}'))
 CREATE INDEX devicemetric_identifier_identifier_token_idx ON devicemetric USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX diagnosticorder_event_date_datetime_date_idx ON diagnosticorder USING GIST (index_as_date(content,'{event,dateTime}'::text[], 'dateTime') range_ops)
 CREATE INDEX riskassessment_date_date_date_idx ON riskassessment USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX oralhealthclaim_patient_patient_reference_idx ON oralhealthclaim USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX medicationdispense_prescription_authorizingprescription_reference_idx ON medicationdispense USING GIN (index_as_reference(content,'{authorizingPrescription}'))
 CREATE INDEX device_patient_patient_reference_idx ON device USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX immunization_reaction_detail_reference_idx ON immunization USING GIN (index_as_reference(content,'{reaction,detail}'))
 CREATE INDEX encounter_indication_indication_reference_idx ON encounter USING GIN (index_as_reference(content,'{indication}'))
 CREATE INDEX device_location_location_reference_idx ON device USING GIN (index_as_reference(content,'{location}'))
 CREATE INDEX media_created_created_date_idx ON media USING GIST (index_as_date(content,'{created}'::text[], 'dateTime') range_ops)
 CREATE INDEX careplan2_date_period_date_idx ON careplan2 USING GIST (index_as_date(content,'{period}'::text[], 'Period') range_ops)
 CREATE INDEX questionnaireanswers_author_author_reference_idx ON questionnaireanswers USING GIN (index_as_reference(content,'{author}'))
 CREATE INDEX nutritionorder_formula_baseformulatype_token_idx ON nutritionorder USING GIN (index_codeableconcept_as_token(content,'{item,enteralFormula,baseFormulaType}'))
 CREATE INDEX list_patient_subject_reference_idx ON list USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX searchparameter_base_base_token_idx ON searchparameter USING GIN (index_primitive_as_token(content,'{base}'))
 CREATE INDEX securityevent_name_name_string_idx ON securityevent USING GIN (index_as_string(content,'{participant,name}'::text[]) gin_trgm_ops)
 CREATE INDEX documentmanifest_patient_subject_reference_idx ON documentmanifest USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX visionprescription_datewritten_datewritten_date_idx ON visionprescription USING GIST (index_as_date(content,'{dateWritten}'::text[], 'dateTime') range_ops)
 CREATE INDEX securityevent_user_userid_token_idx ON securityevent USING GIN (index_primitive_as_token(content,'{participant,userId}'))
 CREATE INDEX conformance_resource_type_token_idx ON conformance USING GIN (index_primitive_as_token(content,'{rest,resource,type}'))
 CREATE INDEX devicecomponent_source_source_reference_idx ON devicecomponent USING GIN (index_as_reference(content,'{source}'))
 CREATE INDEX list_code_code_token_idx ON list USING GIN (index_codeableconcept_as_token(content,'{code}'))
 CREATE INDEX medication_content_item_reference_idx ON medication USING GIN (index_as_reference(content,'{package,content,item}'))
 CREATE INDEX observation_reliability_reliability_token_idx ON observation USING GIN (index_primitive_as_token(content,'{reliability}'))
 CREATE INDEX communication_sender_sender_reference_idx ON communication USING GIN (index_as_reference(content,'{sender}'))
 CREATE INDEX conformance_format_format_token_idx ON conformance USING GIN (index_primitive_as_token(content,'{format}'))
 CREATE INDEX location_status_status_token_idx ON location USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX enrollmentrequest_identifier_identifier_token_idx ON enrollmentrequest USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX episodeofcare_date_period_date_idx ON episodeofcare USING GIST (index_as_date(content,'{period}'::text[], 'Period') range_ops)
 CREATE INDEX list_empty_reason_emptyreason_token_idx ON list USING GIN (index_codeableconcept_as_token(content,'{emptyReason}'))
 CREATE INDEX order_detail_detail_reference_idx ON "order" USING GIN (index_as_reference(content,'{detail}'))
 CREATE INDEX supply_supplier_supplier_reference_idx ON supply USING GIN (index_as_reference(content,'{dispense,supplier}'))
 CREATE INDEX relatedperson_patient_patient_reference_idx ON relatedperson USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX appointmentresponse_appointment_appointment_reference_idx ON appointmentresponse USING GIN (index_as_reference(content,'{appointment}'))
 CREATE INDEX profile_description_description_string_idx ON profile USING GIN (index_as_string(content,'{description}'::text[]) gin_trgm_ops)
 CREATE INDEX imagingstudy_study_uid_token_idx ON imagingstudy USING GIN (index_primitive_as_token(content,'{uid}'))
 CREATE INDEX medicationprescription_identifier_identifier_token_idx ON medicationprescription USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX diagnosticreport_specimen_specimen_reference_idx ON diagnosticreport USING GIN (index_as_reference(content,'{specimen}'))
 CREATE INDEX immunization_date_date_date_idx ON immunization USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX encounter_special_arrangement_specialarrangement_token_idx ON encounter USING GIN (index_codeableconcept_as_token(content,'{hospitalization,specialArrangement}'))
 CREATE INDEX condition_following_item_target_reference_idx ON condition USING GIN (index_as_reference(content,'{occurredFollowing,target}'))
 CREATE INDEX allergyintolerance_patient_subject_reference_idx ON allergyintolerance USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX medicationdispense_dispenser_dispenser_reference_idx ON medicationdispense USING GIN (index_as_reference(content,'{dispenser}'))
 CREATE INDEX coverage_subplan_subplan_token_idx ON coverage USING GIN (index_primitive_as_token(content,'{subplan}'))
 CREATE INDEX profile_version_version_token_idx ON profile USING GIN (index_primitive_as_token(content,'{version}'))
 CREATE INDEX careplan_date_period_date_idx ON careplan USING GIST (index_as_date(content,'{period}'::text[], 'Period') range_ops)
 CREATE INDEX patient_animal_breed_breed_token_idx ON patient USING GIN (index_codeableconcept_as_token(content,'{animal,breed}'))
 CREATE INDEX list_source_source_reference_idx ON list USING GIN (index_as_reference(content,'{source}'))
 CREATE INDEX pharmacyclaim_use_use_token_idx ON pharmacyclaim USING GIN (index_primitive_as_token(content,'{use}'))
 CREATE INDEX immunization_identifier_identifier_token_idx ON immunization USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX medicationdispense_destination_destination_reference_idx ON medicationdispense USING GIN (index_as_reference(content,'{dispense,destination}'))
 CREATE INDEX clinicalassessment_resolved_resolved_token_idx ON clinicalassessment USING GIN (index_codeableconcept_as_token(content,'{resolved}'))
 CREATE INDEX medicationprescription_status_status_token_idx ON medicationprescription USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX institutionalclaim_use_use_token_idx ON institutionalclaim USING GIN (index_primitive_as_token(content,'{use}'))
 CREATE INDEX extensiondefinition_publisher_publisher_string_idx ON extensiondefinition USING GIN (index_as_string(content,'{publisher}'::text[]) gin_trgm_ops)
 CREATE INDEX procedurerequest_subject_subject_reference_idx ON procedurerequest USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX imagingstudy_bodysite_bodysite_token_idx ON imagingstudy USING GIN (index_coding_as_token(content,'{series,bodySite}'))
 CREATE INDEX supportingdocumentation_author_author_reference_idx ON supportingdocumentation USING GIN (index_as_reference(content,'{author}'))
 CREATE INDEX conformance_mode_mode_token_idx ON conformance USING GIN (index_primitive_as_token(content,'{rest,mode}'))
 CREATE INDEX documentreference_event_event_token_idx ON documentreference USING GIN (index_codeableconcept_as_token(content,'{context,event}'))
 CREATE INDEX group_code_code_token_idx ON "group" USING GIN (index_codeableconcept_as_token(content,'{code}'))
 CREATE INDEX allergyintolerance_criticality_criticality_token_idx ON allergyintolerance USING GIN (index_primitive_as_token(content,'{criticality}'))
 CREATE INDEX careplan_activitycode_code_token_idx ON careplan USING GIN (index_codeableconcept_as_token(content,'{activity,simple,code}'))
 CREATE INDEX securityevent_address_identifier_token_idx ON securityevent USING GIN (index_primitive_as_token(content,'{participant,network,identifier}'))
 CREATE INDEX visionprescription_encounter_encounter_reference_idx ON visionprescription USING GIN (index_as_reference(content,'{encounter}'))
 CREATE INDEX communication_subject_subject_reference_idx ON communication USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX relatedperson_address_address_string_idx ON relatedperson USING GIN (index_as_string(content,'{address}'::text[]) gin_trgm_ops)
 CREATE INDEX schedule_type_type_token_idx ON schedule USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX valueset_code_code_token_idx ON valueset USING GIN (index_primitive_as_token(content,'{define,concept,code}'))
 CREATE INDEX deviceuserequest_patient_subject_reference_idx ON deviceuserequest USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX location_partof_partof_reference_idx ON location USING GIN (index_as_reference(content,'{partOf}'))
 CREATE INDEX medicationadministration_device_device_reference_idx ON medicationadministration USING GIN (index_as_reference(content,'{device}'))
 CREATE INDEX documentreference_description_description_string_idx ON documentreference USING GIN (index_as_string(content,'{description}'::text[]) gin_trgm_ops)
 CREATE INDEX group_actual_actual_token_idx ON "group" USING GIN (index_primitive_as_token(content,'{actual}'))
 CREATE INDEX subscription_payload_payload_string_idx ON subscription USING GIN (index_as_string(content,'{channel,payload}'::text[]) gin_trgm_ops)
 CREATE INDEX communication_received_received_date_idx ON communication USING GIST (index_as_date(content,'{received}'::text[], 'dateTime') range_ops)
 CREATE INDEX media_identifier_identifier_token_idx ON media USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX documentreference_type_type_token_idx ON documentreference USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX episodeofcare_referral_referralrequest_reference_idx ON episodeofcare USING GIN (index_as_reference(content,'{referralRequest}'))
 CREATE INDEX documentreference_relation_code_token_idx ON documentreference USING GIN (index_primitive_as_token(content,'{relatesTo,code}'))
 CREATE INDEX contraindication_identifier_identifier_token_idx ON contraindication USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX immunizationrecommendation_information_supportingpatientinformation_reference_idx ON immunizationrecommendation USING GIN (index_as_reference(content,'{recommendation,supportingPatientInformation}'))
 CREATE INDEX imagingstudy_dicom_class_sopclass_token_idx ON imagingstudy USING GIN (index_primitive_as_token(content,'{series,instance,sopclass}'))
 CREATE INDEX immunization_requester_requester_reference_idx ON immunization USING GIN (index_as_reference(content,'{requester}'))
 CREATE INDEX valueset_date_date_date_idx ON valueset USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX searchparameter_target_target_token_idx ON searchparameter USING GIN (index_primitive_as_token(content,'{target}'))
 CREATE INDEX order_source_source_reference_idx ON "order" USING GIN (index_as_reference(content,'{source}'))
 CREATE INDEX diagnosticreport_subject_subject_reference_idx ON diagnosticreport USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX healthcareservice_servicecategory_servicecategory_token_idx ON healthcareservice USING GIN (index_codeableconcept_as_token(content,'{serviceCategory}'))
 CREATE INDEX imagingobjectselection_identifier_uid_token_idx ON imagingobjectselection USING GIN (index_primitive_as_token(content,'{uid}'))
 CREATE INDEX organization_identifier_identifier_token_idx ON organization USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX observation_patient_subject_reference_idx ON observation USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX visionclaim_use_use_token_idx ON visionclaim USING GIN (index_primitive_as_token(content,'{use}'))
 CREATE INDEX communication_status_status_token_idx ON communication USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX device_model_model_string_idx ON device USING GIN (index_as_string(content,'{model}'::text[]) gin_trgm_ops)
 CREATE INDEX operationdefinition_profile_profile_reference_idx ON operationdefinition USING GIN (index_as_reference(content,'{parameter,profile}'))
 CREATE INDEX contraindication_category_category_token_idx ON contraindication USING GIN (index_codeableconcept_as_token(content,'{category}'))
 CREATE INDEX contraindication_date_date_date_idx ON contraindication USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX professionalclaim_use_use_token_idx ON professionalclaim USING GIN (index_primitive_as_token(content,'{use}'))
 CREATE INDEX nutritionorder_encounter_encounter_reference_idx ON nutritionorder USING GIN (index_as_reference(content,'{encounter}'))
 CREATE INDEX diagnosticreport_identifier_identifier_token_idx ON diagnosticreport USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX person_organization_managingorganization_reference_idx ON person USING GIN (index_as_reference(content,'{managingOrganization}'))
 CREATE INDEX observation_status_status_token_idx ON observation USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX careplan2_condition_concern_reference_idx ON careplan2 USING GIN (index_as_reference(content,'{concern}'))
 CREATE INDEX group_identifier_identifier_token_idx ON "group" USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX device_identifier_identifier_token_idx ON device USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX appointment_patient_actor_reference_idx ON appointment USING GIN (index_as_reference(content,'{participant,actor}'))
 CREATE INDEX messageheader_timestamp_timestamp_date_idx ON messageheader USING GIST (index_as_date(content,'{timestamp}'::text[], 'instant') range_ops)
 CREATE INDEX documentmanifest_supersedes_supercedes_reference_idx ON documentmanifest USING GIN (index_as_reference(content,'{supercedes}'))
 CREATE INDEX dataelement_description_definition_string_idx ON dataelement USING GIN (index_as_string(content,'{definition}'::text[]) gin_trgm_ops)
 CREATE INDEX substance_identifier_identifier_token_idx ON substance USING GIN (index_identifier_as_token(content,'{instance,identifier}'))
 CREATE INDEX organization_partof_partof_reference_idx ON organization USING GIN (index_as_reference(content,'{partOf}'))
 CREATE INDEX operationdefinition_instance_instance_token_idx ON operationdefinition USING GIN (index_primitive_as_token(content,'{instance}'))
 CREATE INDEX nutritionorder_patient_subject_reference_idx ON nutritionorder USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX questionnaire_publisher_publisher_string_idx ON questionnaire USING GIN (index_as_string(content,'{publisher}'::text[]) gin_trgm_ops)
 CREATE INDEX condition_date_asserted_dateasserted_date_idx ON condition USING GIST (index_as_date(content,'{dateAsserted}'::text[], 'date') range_ops)
 CREATE INDEX devicemetric_type_type_token_idx ON devicemetric USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX imagingobjectselection_patient_patient_reference_idx ON imagingobjectselection USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX contraindication_patient_patient_reference_idx ON contraindication USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX communication_identifier_identifier_token_idx ON communication USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX messageheader_data_data_reference_idx ON messageheader USING GIN (index_as_reference(content,'{data}'))
 CREATE INDEX conceptmap_dependson_element_token_idx ON conceptmap USING GIN (index_primitive_as_token(content,'{element,dependsOn,element}'))
 CREATE INDEX media_subject_subject_reference_idx ON media USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX extensiondefinition_name_name_string_idx ON extensiondefinition USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX composition_title_title_string_idx ON composition USING GIN (index_as_string(content,'{title}'::text[]) gin_trgm_ops)
 CREATE INDEX provenance_partytype_type_token_idx ON provenance USING GIN (index_coding_as_token(content,'{agent,type}'))
 CREATE INDEX securityevent_source_identifier_token_idx ON securityevent USING GIN (index_primitive_as_token(content,'{source,identifier}'))
 CREATE INDEX basic_patient_subject_reference_idx ON basic USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX communication_category_category_token_idx ON communication USING GIN (index_codeableconcept_as_token(content,'{category}'))
 CREATE INDEX medicationadministration_prescription_prescription_reference_idx ON medicationadministration USING GIN (index_as_reference(content,'{prescription}'))
 CREATE INDEX immunization_reaction_date_date_date_idx ON immunization USING GIST (index_as_date(content,'{reaction,date}'::text[], 'dateTime') range_ops)
 CREATE INDEX practitioner_given_name_string_idx ON practitioner USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX documentmanifest_confidentiality_confidentiality_token_idx ON documentmanifest USING GIN (index_codeableconcept_as_token(content,'{confidentiality}'))
 CREATE INDEX communicationrequest_priority_priority_token_idx ON communicationrequest USING GIN (index_codeableconcept_as_token(content,'{priority}'))
 CREATE INDEX documentmanifest_recipient_recipient_reference_idx ON documentmanifest USING GIN (index_as_reference(content,'{recipient}'))
 CREATE INDEX appointment_actor_actor_reference_idx ON appointment USING GIN (index_as_reference(content,'{participant,actor}'))
 CREATE INDEX order_authority_authority_reference_idx ON "order" USING GIN (index_as_reference(content,'{authority}'))
 CREATE INDEX documentmanifest_author_author_reference_idx ON documentmanifest USING GIN (index_as_reference(content,'{author}'))
 CREATE INDEX diagnosticorder_code_code_token_idx ON diagnosticorder USING GIN (index_codeableconcept_as_token(content,'{item,code}'))
 CREATE INDEX encounter_status_status_token_idx ON encounter USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX documentreference_format_format_token_idx ON documentreference USING GIN (index_primitive_as_token(content,'{format}'))
 CREATE INDEX slot_start_start_date_idx ON slot USING GIST (index_as_date(content,'{start}'::text[], 'instant') range_ops)
 CREATE INDEX operationdefinition_date_date_date_idx ON operationdefinition USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX searchparameter_name_name_string_idx ON searchparameter USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX profile_status_status_token_idx ON profile USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX specimen_container_type_token_idx ON specimen USING GIN (index_codeableconcept_as_token(content,'{container,type}'))
 CREATE INDEX oralhealthclaim_use_use_token_idx ON oralhealthclaim USING GIN (index_primitive_as_token(content,'{use}'))
 CREATE INDEX condition_encounter_encounter_reference_idx ON condition USING GIN (index_as_reference(content,'{encounter}'))
 CREATE INDEX substance_substance_substance_reference_idx ON substance USING GIN (index_as_reference(content,'{ingredient,substance}'))
 CREATE INDEX deviceusestatement_patient_subject_reference_idx ON deviceusestatement USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX patient_address_address_string_idx ON patient USING GIN (index_as_string(content,'{address}'::text[]) gin_trgm_ops)
 CREATE INDEX questionnaire_status_status_token_idx ON questionnaire USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX documentreference_created_created_date_idx ON documentreference USING GIST (index_as_date(content,'{created}'::text[], 'dateTime') range_ops)
 CREATE INDEX location_identifier_identifier_token_idx ON location USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX immunizationrecommendation_vaccine_type_vaccinetype_token_idx ON immunizationrecommendation USING GIN (index_codeableconcept_as_token(content,'{recommendation,vaccineType}'))
 CREATE INDEX conformance_name_name_string_idx ON conformance USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX condition_asserter_asserter_reference_idx ON condition USING GIN (index_as_reference(content,'{asserter}'))
 CREATE INDEX person_name_name_string_idx ON person USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX episodeofcare_identifier_identifier_token_idx ON episodeofcare USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX allergyintolerance_type_type_token_idx ON allergyintolerance USING GIN (index_primitive_as_token(content,'{type}'))
 CREATE INDEX imagingobjectselection_authoring_time_authoringtime_date_idx ON imagingobjectselection USING GIST (index_as_date(content,'{authoringTime}'::text[], 'dateTime') range_ops)
 CREATE INDEX medicationstatement_medication_medication_reference_idx ON medicationstatement USING GIN (index_as_reference(content,'{medication}'))
 CREATE INDEX diagnosticreport_name_name_token_idx ON diagnosticreport USING GIN (index_codeableconcept_as_token(content,'{name}'))
 CREATE INDEX valueset_description_description_string_idx ON valueset USING GIN (index_as_string(content,'{description}'::text[]) gin_trgm_ops)
 CREATE INDEX paymentnotice_identifier_identifier_token_idx ON paymentnotice USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX profile_date_date_date_idx ON profile USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX coverage_group_group_token_idx ON coverage USING GIN (index_primitive_as_token(content,'{group}'))
 CREATE INDEX medicationdispense_whenhandedover_whenhandedover_date_idx ON medicationdispense USING GIST (index_as_date(content,'{dispense,whenHandedOver}'::text[], 'dateTime') range_ops)
 CREATE INDEX careplan2_participant_member_reference_idx ON careplan2 USING GIN (index_as_reference(content,'{participant,member}'))
 CREATE INDEX immunization_subject_subject_reference_idx ON immunization USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX messageheader_destination_uri_endpoint_token_idx ON messageheader USING GIN (index_primitive_as_token(content,'{destination,endpoint}'))
 CREATE INDEX enrollmentrequest_subject_subject_reference_idx ON enrollmentrequest USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX alert_subject_subject_reference_idx ON alert USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX condition_location_code_token_idx ON condition USING GIN (index_codeableconcept_as_token(content,'{location,code}'))
 CREATE INDEX immunization_reason_reason_token_idx ON immunization USING GIN (index_codeableconcept_as_token(content,'{explanation,reason}'))
 CREATE INDEX patient_language_communication_token_idx ON patient USING GIN (index_codeableconcept_as_token(content,'{communication}'))
 CREATE INDEX pendedrequest_identifier_identifier_token_idx ON pendedrequest USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX contraindication_implicated_implicated_reference_idx ON contraindication USING GIN (index_as_reference(content,'{implicated}'))
 CREATE INDEX coverage_type_type_token_idx ON coverage USING GIN (index_coding_as_token(content,'{type}'))
 CREATE INDEX careplan_participant_member_reference_idx ON careplan USING GIN (index_as_reference(content,'{participant,member}'))
 CREATE INDEX specimen_site_sourcesite_token_idx ON specimen USING GIN (index_codeableconcept_as_token(content,'{collection,sourceSite}'))
 CREATE INDEX supply_kind_kind_token_idx ON supply USING GIN (index_codeableconcept_as_token(content,'{kind}'))
 CREATE INDEX documentreference_class_class_token_idx ON documentreference USING GIN (index_codeableconcept_as_token(content,'{class}'))
 CREATE INDEX supportingdocumentation_patient_subject_reference_idx ON supportingdocumentation USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX institutionalclaim_patient_patient_reference_idx ON institutionalclaim USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX profile_code_code_token_idx ON profile USING GIN (index_coding_as_token(content,'{code}'))
 CREATE INDEX episodeofcare_patient_patient_reference_idx ON episodeofcare USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX composition_section_code_code_token_idx ON composition USING GIN (index_codeableconcept_as_token(content,'{section,code}'))
 CREATE INDEX communicationrequest_encounter_encounter_reference_idx ON communicationrequest USING GIN (index_as_reference(content,'{encounter}'))
 CREATE INDEX immunization_vaccine_type_vaccinetype_token_idx ON immunization USING GIN (index_codeableconcept_as_token(content,'{vaccineType}'))
 CREATE INDEX supply_patient_patient_reference_idx ON supply USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX messageheader_destination_name_string_idx ON messageheader USING GIN (index_as_string(content,'{destination,name}'::text[]) gin_trgm_ops)
 CREATE INDEX order_when_code_code_token_idx ON "order" USING GIN (index_codeableconcept_as_token(content,'{when,code}'))
 CREATE INDEX immunizationrecommendation_subject_subject_reference_idx ON immunizationrecommendation USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX communicationrequest_recipient_recipient_reference_idx ON communicationrequest USING GIN (index_as_reference(content,'{recipient}'))
 CREATE INDEX profile_identifier_identifier_token_idx ON profile USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX conceptmap_publisher_publisher_string_idx ON conceptmap USING GIN (index_as_string(content,'{publisher}'::text[]) gin_trgm_ops)
 CREATE INDEX coverage_plan_plan_token_idx ON coverage USING GIN (index_primitive_as_token(content,'{plan}'))
 CREATE INDEX explanationofbenefit_identifier_identifier_token_idx ON explanationofbenefit USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX documentreference_indexed_indexed_date_idx ON documentreference USING GIST (index_as_date(content,'{indexed}'::text[], 'instant') range_ops)
 CREATE INDEX operationdefinition_status_status_token_idx ON operationdefinition USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX documentreference_relatesto_target_reference_idx ON documentreference USING GIN (index_as_reference(content,'{relatesTo,target}'))
 CREATE INDEX visionclaim_priority_priority_token_idx ON visionclaim USING GIN (index_coding_as_token(content,'{priority}'))
 CREATE INDEX substance_type_type_token_idx ON substance USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX securityevent_subtype_subtype_token_idx ON securityevent USING GIN (index_codeableconcept_as_token(content,'{event,subtype}'))
 CREATE INDEX composition_confidentiality_confidentiality_token_idx ON composition USING GIN (index_coding_as_token(content,'{confidentiality}'))
 CREATE INDEX nutritionorder_oraldiet_type_token_idx ON nutritionorder USING GIN (index_codeableconcept_as_token(content,'{item,oralDiet,type}'))
 CREATE INDEX communicationrequest_patient_subject_reference_idx ON communicationrequest USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX documentreference_period_period_date_idx ON documentreference USING GIST (index_as_date(content,'{context,period}'::text[], 'Period') range_ops)
 CREATE INDEX encounter_episodeofcare_episodeofcare_reference_idx ON encounter USING GIN (index_as_reference(content,'{episodeOfCare}'))
 CREATE INDEX documentreference_facility_facilitytype_token_idx ON documentreference USING GIN (index_codeableconcept_as_token(content,'{context,facilityType}'))
 CREATE INDEX diagnosticorder_encounter_encounter_reference_idx ON diagnosticorder USING GIN (index_as_reference(content,'{encounter}'))
 CREATE INDEX allergyintolerance_onset_onset_date_idx ON allergyintolerance USING GIST (index_as_date(content,'{event,onset}'::text[], 'dateTime') range_ops)
 CREATE INDEX healthcareservice_servicetype_type_token_idx ON healthcareservice USING GIN (index_codeableconcept_as_token(content,'{serviceType,type}'))
 CREATE INDEX specimen_type_type_token_idx ON specimen USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX familyhistory_date_date_date_idx ON familyhistory USING GIST (index_as_date(content,'{date}'::text[], 'dateTime') range_ops)
 CREATE INDEX medication_manufacturer_manufacturer_reference_idx ON medication USING GIN (index_as_reference(content,'{manufacturer}'))
 CREATE INDEX medicationadministration_notgiven_wasnotgiven_token_idx ON medicationadministration USING GIN (index_primitive_as_token(content,'{wasNotGiven}'))
 CREATE INDEX valueset_status_status_token_idx ON valueset USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX visionclaim_patient_patient_reference_idx ON visionclaim USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX conformance_fhirversion_version_token_idx ON conformance USING GIN (index_primitive_as_token(content,'{version}'))
 CREATE INDEX practitioner_gender_gender_token_idx ON practitioner USING GIN (index_primitive_as_token(content,'{gender}'))
 CREATE INDEX practitioner_identifier_identifier_token_idx ON practitioner USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX encounter_location_period_period_date_idx ON encounter USING GIST (index_as_date(content,'{location,period}'::text[], 'Period') range_ops)
 CREATE INDEX appointmentresponse_partstatus_participantstatus_token_idx ON appointmentresponse USING GIN (index_primitive_as_token(content,'{participantStatus}'))
 CREATE INDEX diagnosticorder_item_past_status_status_token_idx ON diagnosticorder USING GIN (index_primitive_as_token(content,'{item,event,status}'))
 CREATE INDEX patient_given_given_string_idx ON patient USING GIN (index_as_string(content,'{name,given}'::text[]) gin_trgm_ops)
 CREATE INDEX episodeofcare_condition_condition_reference_idx ON episodeofcare USING GIN (index_as_reference(content,'{condition}'))
 CREATE INDEX appointment_status_status_token_idx ON appointment USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX slot_slottype_type_token_idx ON slot USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX schedule_date_planninghorizon_date_idx ON schedule USING GIST (index_as_date(content,'{planningHorizon}'::text[], 'Period') range_ops)
 CREATE INDEX securityevent_reference_reference_reference_idx ON securityevent USING GIN (index_as_reference(content,'{object,reference}'))
 CREATE INDEX enrollmentresponse_identifier_identifier_token_idx ON enrollmentresponse USING GIN (index_identifier_as_token(content,'{identifier}'))
 CREATE INDEX diagnosticorder_patient_subject_reference_idx ON diagnosticorder USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX diagnosticreport_status_status_token_idx ON diagnosticreport USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX supply_dispensestatus_status_token_idx ON supply USING GIN (index_primitive_as_token(content,'{dispense,status}'))
 CREATE INDEX condition_status_status_token_idx ON condition USING GIN (index_primitive_as_token(content,'{status}'))
 CREATE INDEX condition_following_code_codeableconcept_token_idx ON condition USING GIN (index_codeableconcept_as_token(content,'{occurredFollowing,codeableConcept}'))
 CREATE INDEX specimen_subject_subject_reference_idx ON specimen USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX immunization_performer_performer_reference_idx ON immunization USING GIN (index_as_reference(content,'{performer}'))
 CREATE INDEX medication_name_name_string_idx ON medication USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX pharmacyclaim_priority_priority_token_idx ON pharmacyclaim USING GIN (index_coding_as_token(content,'{priority}'))
 CREATE INDEX specimen_accession_accessionidentifier_token_idx ON specimen USING GIN (index_identifier_as_token(content,'{accessionIdentifier}'))
 CREATE INDEX episodeofcare_type_type_token_idx ON episodeofcare USING GIN (index_codeableconcept_as_token(content,'{type}'))
 CREATE INDEX medicationprescription_patient_patient_reference_idx ON medicationprescription USING GIN (index_as_reference(content,'{patient}'))
 CREATE INDEX questionnaire_version_version_string_idx ON questionnaire USING GIN (index_as_string(content,'{version}'::text[]) gin_trgm_ops)
 CREATE INDEX practitioner_name_name_string_idx ON practitioner USING GIN (index_as_string(content,'{name}'::text[]) gin_trgm_ops)
 CREATE INDEX conformance_profile_profile_reference_idx ON conformance USING GIN (index_as_reference(content,'{rest,resource,profile}'))
 CREATE INDEX medicationprescription_medication_medication_reference_idx ON medicationprescription USING GIN (index_as_reference(content,'{medication}'))
 CREATE INDEX institutionalclaim_priority_priority_token_idx ON institutionalclaim USING GIN (index_coding_as_token(content,'{priority}'))
 CREATE INDEX securityevent_date_datetime_date_idx ON securityevent USING GIST (index_as_date(content,'{event,dateTime}'::text[], 'instant') range_ops)
 CREATE INDEX extensiondefinition_code_code_token_idx ON extensiondefinition USING GIN (index_coding_as_token(content,'{code}'))
 CREATE INDEX condition_subject_subject_reference_idx ON condition USING GIN (index_as_reference(content,'{subject}'))
 CREATE INDEX medicationstatement_device_device_reference_idx ON medicationstatement USING GIN (index_as_reference(content,'{device}'))
 CREATE INDEX referralrequest_specialty_specialty_token_idx ON referralrequest USING GIN (index_codeableconcept_as_token(content,'{specialty}'))
 CREATE INDEX documentreference_author_author_reference_idx ON documentreference USING GIN (index_as_reference(content,'{author}'))
 CREATE INDEX location_address_address_string_idx ON location USING GIN (index_as_string(content,'{address}'::text[]) gin_trgm_ops)
 CREATE INDEX supply_dispenseid_identifier_token_idx ON supply USING GIN (index_identifier_as_token(content,'{dispense,identifier}'))
 CREATE INDEX patient_family_family_string_idx ON patient USING GIN (index_as_string(content,'{name,family}'::text[]) gin_trgm_ops)
 CREATE INDEX medicationprescription_encounter_encounter_reference_idx ON medicationprescription USING GIN (index_as_reference(content,'{encounter}'))
 CREATE INDEX nutritionorder_supplement_type_token_idx ON nutritionorder USING GIN (index_codeableconcept_as_token(content,'{item,supplement,type}'))
(631 rows)

