title: Includes
resources: ['patient', 'encounter']
indices:
  - {resourceType: 'Encounter', name: 'patient'}

fixtures:
  - {id: 'nicola', resourceType: 'Patient', name: [{given: ['nicola']}], active: true, birthDate: '1980'}
  - {id: 'ivan', resourceType: 'Patient', name: [{given: ['ivan']}], active: true , birthDate: '1981'}
  - {id: 'nicola-enc-1', resourceType: 'Encounter', patient: {reference: 'Patient/nicola'}}
  - {id: 'nicola-enc-2', resourceType: 'Encounter', patient: {reference: 'Patient/nicola'}}
  - {id: 'ivan-enc-1', resourceType: 'Encounter', patient: {reference: 'Patient/ivan'}}

queries:
  # - query: {resourceType: 'Encounter', queryString: 'patient=Patient/nicola'}
  #   total: 2
  - query: {resourceType: 'Encounter', queryString: '_id=nicola-enc-1,nicola-enc-2&_include=Encounter:patient'}
    total: 1